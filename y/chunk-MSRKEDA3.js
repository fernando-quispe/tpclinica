import{A as me,B as et,C as _e,D as ge,H as Te,f as ee,m as se,n as ie,o as oe,p as Q,q as re,r as ae,s as ce,t as ue,u as le,v as tt,w as he,x as de,y as pe,z as fe}from"./chunk-2YF2VIIO.js";import{c as ne,d as St,g as pt,h as ft,i as Dt}from"./chunk-3PKXA2GJ.js";import{$ as L,Db as S,Fb as P,Lb as At,Ma as Jt,Na as Ct,Sa as d,Ta as U,V as ut,W as Kt,Wa as Qt,Wb as dt,Y as lt,_ as H,_a as G,a as w,aa as V,b as B,bb as W,dc as kt,e as ct,ea as yt,fa as Yt,hb as X,ia as ht,ib as Z,jb as g,k as D,kb as K,mb as k,mc as xt,nb as C,oa as Rt,ob as x,pa as wt,pb as Y,qb as It,rb as Et,sb as Ot,ta as F,tb as te,ub as J,vb as v}from"./chunk-JRU3JP26.js";var be=["toast-component",""];function Ye(t,e){if(t&1){let n=Ot();C(0,"button",5),J("click",function(){Rt(n);let i=v();return wt(i.remove())}),C(1,"span",6),S(2,"\xD7"),x()()}}function Je(t,e){if(t&1&&(It(0),S(1),Et()),t&2){let n=v(2);d(),P("[",n.duplicatesCount+1,"]")}}function Qe(t,e){if(t&1&&(C(0,"div"),S(1),X(2,Je,2,1,"ng-container",4),x()),t&2){let n=v();k(n.options.titleClass),Z("aria-label",n.title),d(),P(" ",n.title," "),d(),g("ngIf",n.duplicatesCount)}}function tn(t,e){if(t&1&&Y(0,"div",7),t&2){let n=v();k(n.options.messageClass),g("innerHTML",n.message,Ct)}}function en(t,e){if(t&1&&(C(0,"div",8),S(1),x()),t&2){let n=v();k(n.options.messageClass),Z("aria-label",n.message),d(),P(" ",n.message," ")}}function nn(t,e){if(t&1&&(C(0,"div"),Y(1,"div",9),x()),t&2){let n=v();d(),K("width",n.width()+"%")}}function sn(t,e){if(t&1){let n=Ot();C(0,"button",5),J("click",function(){Rt(n);let i=v();return wt(i.remove())}),C(1,"span",6),S(2,"\xD7"),x()()}}function on(t,e){if(t&1&&(It(0),S(1),Et()),t&2){let n=v(2);d(),P("[",n.duplicatesCount+1,"]")}}function rn(t,e){if(t&1&&(C(0,"div"),S(1),X(2,on,2,1,"ng-container",4),x()),t&2){let n=v();k(n.options.titleClass),Z("aria-label",n.title),d(),P(" ",n.title," "),d(),g("ngIf",n.duplicatesCount)}}function an(t,e){if(t&1&&Y(0,"div",7),t&2){let n=v();k(n.options.messageClass),g("innerHTML",n.message,Ct)}}function cn(t,e){if(t&1&&(C(0,"div",8),S(1),x()),t&2){let n=v();k(n.options.messageClass),Z("aria-label",n.message),d(),P(" ",n.message," ")}}function un(t,e){if(t&1&&(C(0,"div"),Y(1,"div",9),x()),t&2){let n=v();d(),K("width",n.width()+"%")}}var Nt=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ut=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},Pt=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new D;_activate=new D;_manualClose=new D;_resetTimeout=new D;_countDuplicate=new D;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},j=class{toastId;config;message;title;toastType;toastRef;_onTap=new D;_onAction=new D;constructor(e,n,s,i,o,r){this.toastId=e,this.config=n,this.message=s,this.title=i,this.toastType=o,this.toastRef=r,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},ve={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},ye=new lt("ToastConfig"),Mt=class extends Ut{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,s){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=s}attachComponentPortal(e,n){let s=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=s.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},ln=(()=>{class t{_document=L(kt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bt=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},hn=(()=>{class t{_overlayContainer=L(ln);_componentFactoryResolver=L(Qt);_appRef=L(dt);_document=L(kt);_paneElements=new Map;create(n,s){return this._createOverlayRef(this.getPaneElement(n,s))}getPaneElement(n="",s){return this._paneElements.get(s)||this._paneElements.set(s,{}),this._paneElements.get(s)[n]||(this._paneElements.get(s)[n]=this._createPaneElement(n,s)),this._paneElements.get(s)[n]}_createPaneElement(n,s){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),s?s.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new Mt(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new Bt(this._createPortalHost(n))}static \u0275fac=function(s){return new(s||t)};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Re=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,s,i,o,r){this.overlay=s,this._injector=i,this.sanitizer=o,this.ngZone=r,this.toastrConfig=w(w({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=w(w({},n.default.iconClasses),n.config.iconClasses))}show(n,s,i={},o=""){return this._preBuildNotification(o,n,s,this.applyConfig(i))}success(n,s,i={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,n,s,this.applyConfig(i))}error(n,s,i={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,n,s,this.applyConfig(i))}info(n,s,i={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,n,s,this.applyConfig(i))}warning(n,s,i={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,n,s,this.applyConfig(i))}clear(n){for(let s of this.toasts)if(n!==void 0){if(s.toastId===n){s.toastRef.manualClose();return}}else s.toastRef.manualClose()}remove(n){let s=this._findToast(n);if(!s||(s.activeToast.toastRef.close(),this.toasts.splice(s.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",s="",i,o){let{includeTitleDuplicates:r}=this.toastrConfig;for(let a of this.toasts){let c=r&&a.title===n;if((!r||c)&&a.message===s)return a.toastRef.onDuplicate(i,o),a}return null}applyConfig(n={}){return w(w({},this.toastrConfig),n)}_findToast(n){for(let s=0;s<this.toasts.length;s++)if(this.toasts[s].toastId===n)return{index:s,activeToast:this.toasts[s]};return null}_preBuildNotification(n,s,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,s,i,o)):this._buildNotification(n,s,i,o)}_buildNotification(n,s,i,o){if(!o.toastComponent)throw new Error("toastComponent required");let r=this.findDuplicate(i,s,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||s)&&this.toastrConfig.preventDuplicates&&r!==null)return r;this.previousToastMessage=s;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=s;s&&o.enableHtml&&(u=this.sanitizer.sanitize(Jt.HTML,s));let p=new Pt(c),_=new j(this.index,o,u,i,n,p),T=[{provide:j,useValue:_}],y=F.create({providers:T,parent:this._injector}),R=new Nt(o.toastComponent,y),A=c.attach(R,o.newestOnTop);p.componentInstance=A.instance;let f={toastId:this.index,title:i||"",message:s||"",toastRef:p,onShown:p.afterActivate(),onHidden:p.afterClosed(),onTap:_.onTap(),onAction:_.onAction(),portal:A};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{f.toastRef.activate()})),this.toasts.push(f),f}static \u0275fac=function(s){return new(s||t)(H(ye),H(hn),H(F),H(ee),H(G))};static \u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dn=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=W(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,s,i){this.toastrService=n,this.toastPackage=s,this.ngZone=i,this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=W({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>B(w({},n),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),s=this.hideTime-n;this.width.set(s/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>B(w({},n),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(n=>B(w({},n),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),s)):this.timeout=setTimeout(()=>n(),s)}outsideInterval(n,s){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),s)):this.intervalId=setInterval(()=>n(),s)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(s){return new(s||t)(U(Re),U(j),U(G))};static \u0275cmp=yt({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(s,i){s&1&&J("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),s&2&&(te("@flyInOut",i._state),k(i.toastClasses),K("display",i.displayStyle))},standalone:!0,features:[At],attrs:be,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(s,i){s&1&&X(0,Ye,3,0,"button",0)(1,Qe,3,5,"div",1)(2,tn,1,3,"div",2)(3,en,2,4,"div",3)(4,nn,2,2,"div",4),s&2&&(g("ngIf",i.options.closeButton),d(),g("ngIf",i.title),d(),g("ngIf",i.message&&i.options.enableHtml),d(),g("ngIf",i.message&&!i.options.enableHtml),d(),g("ngIf",i.options.progressBar))},dependencies:[xt],encapsulation:2,data:{animation:[ne("flyInOut",[ft("inactive",pt({opacity:0})),ft("active",pt({opacity:1})),ft("removed",pt({opacity:0})),Dt("inactive => active",St("{{ easeTime }}ms {{ easing }}")),Dt("active => removed",St("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),pn=B(w({},ve),{toastComponent:dn}),fn=(t={})=>ht([{provide:ye,useValue:{default:pn,config:t}}]),js=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[fn(n)]}}static \u0275fac=function(s){return new(s||t)};static \u0275mod=Yt({type:t});static \u0275inj=Kt({})}return t})();var mn=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=W(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=W("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,s,i){this.toastrService=n,this.toastPackage=s,this.appRef=i,this.message=s.message,this.title=s.title,this.options=s.config,this.originalTimeout=s.config.timeOut,this.toastClasses=`${s.toastType} ${s.config.toastClass}`,this.sub=s.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=s.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=s.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=s.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),s=this.hideTime-n;this.width.set(s/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(s){return new(s||t)(U(Re),U(j),U(dt))};static \u0275cmp=yt({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(s,i){s&1&&J("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),s&2&&(k(i.toastClasses),K("display",i.displayStyle))},standalone:!0,features:[At],attrs:be,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(s,i){s&1&&X(0,sn,3,0,"button",0)(1,rn,3,5,"div",1)(2,an,1,3,"div",2)(3,cn,2,4,"div",3)(4,un,2,2,"div",4),s&2&&(g("ngIf",i.options.closeButton),d(),g("ngIf",i.title),d(),g("ngIf",i.message&&i.options.enableHtml),d(),g("ngIf",i.message&&!i.options.enableHtml),d(),g("ngIf",i.options.progressBar))},dependencies:[xt],encapsulation:2,changeDetection:0})}return t})(),qs=B(w({},ve),{toastComponent:mn});var ke="firebasestorage.googleapis.com",xe="storageBucket",_n=2*60*1e3,gn=10*60*1e3;var l=class t extends oe{constructor(e,n,s=0){super(Ht(e),`Firebase Storage: ${n} (${Ht(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ht(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},h=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(h||{});function Ht(t){return"storage/"+t}function zt(){let t="An unknown error occurred, please check the error payload for server response.";return new l(h.UNKNOWN,t)}function Tn(t){return new l(h.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function bn(t){return new l(h.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vn(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new l(h.UNAUTHENTICATED,t)}function yn(){return new l(h.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Rn(t){return new l(h.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wn(){return new l(h.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cn(){return new l(h.CANCELED,"User canceled the upload/download.")}function In(t){return new l(h.INVALID_URL,"Invalid URL '"+t+"'.")}function En(t){return new l(h.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function On(){return new l(h.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xe+"' property when initializing the app?")}function An(){return new l(h.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kn(){return new l(h.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xn(t){return new l(h.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lt(t){return new l(h.INVALID_ARGUMENT,t)}function Se(){return new l(h.APP_DELETED,"The Firebase app was deleted.")}function Sn(t){return new l(h.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function st(t,e){return new l(h.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nt(t){throw new l(h.INTERNAL_ERROR,"Internal error: "+t)}var I=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(s.path==="")return s;throw En(e)}static makeFromUrl(e,n){let s=null,i="([A-Za-z0-9.\\-_]+)";function o(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}let r="(/(.*))?$",a=new RegExp("^gs://"+i+r,"i"),c={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}let p="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",y=new RegExp(`^https?://${_}/${p}/b/${i}/o${T}`,"i"),R={bucket:1,path:3},A=n===ke?"(?:storage.googleapis.com|storage.cloud.google.com)":n,f="([^?#]*)",M=new RegExp(`^https?://${A}/${i}/${f}`,"i"),E=[{regex:a,indices:c,postModify:o},{regex:y,indices:R,postModify:u},{regex:M,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<E.length;b++){let at=E[b],bt=at.regex.exec(e);if(bt){let Ke=bt[at.indices.bucket],vt=bt[at.indices.path];vt||(vt=""),s=new t(Ke,vt),at.postModify(s);break}}if(s==null)throw In(e);return s}},Ft=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Dn(t,e,n){let s=1,i=null,o=null,r=!1,a=0;function c(){return a===2}let u=!1;function p(...f){u||(u=!0,e.apply(null,f))}function _(f){i=setTimeout(()=>{i=null,t(y,c())},f)}function T(){o&&clearTimeout(o)}function y(f,...M){if(u){T();return}if(f){T(),p.call(null,f,...M);return}if(c()||r){T(),p.call(null,f,...M);return}s<64&&(s*=2);let E;a===1?(a=2,E=0):E=(s+Math.random())*1e3,_(E)}let R=!1;function A(f){R||(R=!0,T(),!u&&(i!==null?(f||(a=2),clearTimeout(i),_(0)):f||(a=1)))}return _(0),o=setTimeout(()=>{r=!0,A(!0)},n),A}function Nn(t){t(!1)}function Un(t){return t!==void 0}function Pn(t){return typeof t=="object"&&!Array.isArray(t)}function Vt(t){return typeof t=="string"||t instanceof String}function we(t){return Gt()&&t instanceof Blob}function Gt(){return typeof Blob<"u"}function Ce(t,e,n,s){if(s<e)throw Lt(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Lt(`Invalid value for '${t}'. Expected ${n} or less.`)}function Wt(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function De(t){let e=encodeURIComponent,n="?";for(let s in t)if(t.hasOwnProperty(s)){let i=e(s)+"="+e(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}var $=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}($||{});function Mn(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var jt=class{constructor(e,n,s,i,o,r,a,c,u,p,_,T=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=r,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=p,this.connectionFactory_=_,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,R)=>{this.resolve_=y,this.reject_=R,this.start_()})}start_(){let e=(s,i)=>{if(i){s(!1,new q(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let r=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(r),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(r),this.pendingConnection_=null;let a=o.getErrorCode()===$.NO_ERROR,c=o.getStatus();if(!a||Mn(c,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===$.ABORT;s(!1,new q(!1,null,p));return}let u=this.successCodes_.indexOf(c)!==-1;s(!0,new q(u,o))})},n=(s,i)=>{let o=this.resolve_,r=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());Un(c)?o(c):o()}catch(c){r(c)}else if(a!==null){let c=zt();c.serverResponse=a.getErrorText(),this.errorCallback_?r(this.errorCallback_(a,c)):r(c)}else if(i.canceled){let c=this.appDelete_?Se():Cn();r(c)}else{let c=wn();r(c)}};this.canceled_?n(!1,new q(!1,null,!0)):this.backoffId_=Dn(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Nn(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},q=class{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}};function Bn(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hn(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ln(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Fn(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jn(t,e,n,s,i,o,r=!0){let a=De(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return Ln(u,e),Bn(u,n),Hn(u,o),Fn(u,s),new jt(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,r)}function qn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $n(...t){let e=qn();if(e!==void 0){let n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Gt())return new Blob(t);throw new l(h.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zn(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Vn(t){if(typeof atob>"u")throw xn("base-64");return atob(t)}var O={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},it=class{constructor(e,n){this.data=e,this.contentType=n||null}};function Gn(t,e){switch(t){case O.RAW:return new it(Ne(e));case O.BASE64:case O.BASE64URL:return new it(Ue(t,e));case O.DATA_URL:return new it(Xn(e),Zn(e))}throw zt()}function Ne(t){let e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=s,r=t.charCodeAt(++n);s=65536|(o&1023)<<10|r&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Wn(t){let e;try{e=decodeURIComponent(t)}catch{throw st(O.DATA_URL,"Malformed data URL.")}return Ne(e)}function Ue(t,e){switch(t){case O.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw st(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case O.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw st(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vn(e)}catch(i){throw i.message.includes("polyfill")?i:st(t,"Invalid character found")}let s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}var _t=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw st(O.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let s=n[1]||null;s!=null&&(this.base64=Kn(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}};function Xn(t){let e=new _t(t);return e.base64?Ue(O.BASE64,e.rest):Wn(e.rest)}function Zn(t){return new _t(t).contentType}function Kn(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var gt=class t{constructor(e,n){let s=0,i="";we(e)?(this.data_=e,s=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(we(this.data_)){let s=this.data_,i=zn(s,e,n);return i===null?null:new t(i)}else{let s=new Uint8Array(this.data_.buffer,e,n-e);return new t(s,!0)}}static getBlob(...e){if(Gt()){let n=e.map(s=>s instanceof t?s.data_:s);return new t($n.apply(null,n))}else{let n=e.map(r=>Vt(r)?Gn(O.RAW,r).data:r.data_),s=0;n.forEach(r=>{s+=r.byteLength});let i=new Uint8Array(s),o=0;return n.forEach(r=>{for(let a=0;a<r.length;a++)i[o++]=r[a]}),new t(i,!0)}}uploadData(){return this.data_}};function Pe(t){let e;try{e=JSON.parse(t)}catch{return null}return Pn(e)?e:null}function Yn(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Jn(t,e){let n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function Me(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Qn(t,e){return e}var m=class{constructor(e,n,s,i){this.server=e,this.local=n||e,this.writable=!!s,this.xform=i||Qn}},mt=null;function ts(t){return!Vt(t)||t.length<2?t:Me(t)}function Be(){if(mt)return mt;let t=[];t.push(new m("bucket")),t.push(new m("generation")),t.push(new m("metageneration")),t.push(new m("name","fullPath",!0));function e(o,r){return ts(r)}let n=new m("name");n.xform=e,t.push(n);function s(o,r){return r!==void 0?Number(r):r}let i=new m("size");return i.xform=s,t.push(i),t.push(new m("timeCreated")),t.push(new m("updated")),t.push(new m("md5Hash",null,!0)),t.push(new m("cacheControl",null,!0)),t.push(new m("contentDisposition",null,!0)),t.push(new m("contentEncoding",null,!0)),t.push(new m("contentLanguage",null,!0)),t.push(new m("contentType",null,!0)),t.push(new m("metadata","customMetadata",!0)),mt=t,mt}function es(t,e){function n(){let s=t.bucket,i=t.fullPath,o=new I(s,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function ns(t,e,n){let s={};s.type="file";let i=n.length;for(let o=0;o<i;o++){let r=n[o];s[r.local]=r.xform(s,e[r.server])}return es(s,t),s}function He(t,e,n){let s=Pe(e);return s===null?null:ns(t,s,n)}function ss(t,e,n,s){let i=Pe(e);if(i===null||!Vt(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let r=encodeURIComponent;return o.split(",").map(u=>{let p=t.bucket,_=t.fullPath,T="/b/"+r(p)+"/o/"+r(_),y=Wt(T,n,s),R=De({alt:"media",token:u});return y+R})[0]}function is(t,e){let n={},s=e.length;for(let i=0;i<s;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Tt=class{constructor(e,n,s,i){this.url=e,this.method=n,this.handler=s,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Le(t){if(!t)throw zt()}function os(t,e){function n(s,i){let o=He(t,i,e);return Le(o!==null),o}return n}function rs(t,e){function n(s,i){let o=He(t,i,e);return Le(o!==null),ss(o,i,t.host,t._protocol)}return n}function Fe(t){function e(n,s){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=yn():i=vn():n.getStatus()===402?i=bn(t.bucket):n.getStatus()===403?i=Rn(t.path):i=s,i.status=n.getStatus(),i.serverResponse=s.serverResponse,i}return e}function as(t){let e=Fe(t);function n(s,i){let o=e(s,i);return s.getStatus()===404&&(o=Tn(t.path)),o.serverResponse=i.serverResponse,o}return n}function cs(t,e,n){let s=e.fullServerUrl(),i=Wt(s,t.host,t._protocol),o="GET",r=t.maxOperationRetryTime,a=new Tt(i,o,rs(t,n),r);return a.errorHandler=as(e),a}function us(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ls(t,e,n){let s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=us(null,e)),s}function hs(t,e,n,s,i){let o=e.bucketOnlyServerUrl(),r={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let b=0;b<2;b++)E=E+Math.random().toString().slice(2);return E}let c=a();r["Content-Type"]="multipart/related; boundary="+c;let u=ls(e,s,i),p=is(u,n),_="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,T=`\r
--`+c+"--",y=gt.getBlob(_,s,T);if(y===null)throw An();let R={name:u.fullPath},A=Wt(o,t.host,t._protocol),f="POST",M=t.maxUploadRetryTime,N=new Tt(A,f,os(t,n),M);return N.urlParams=R,N.headers=r,N.body=y.uploadData(),N.errorHandler=Fe(e),N}var Xs=256*1024;var Ie=null,qt=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,i){if(this.sent_)throw nt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},$t=class extends qt{initXhr(){this.xhr_.responseType="text"}};function je(){return Ie?Ie():new $t}var z=class t{constructor(e,n){this._service=e,n instanceof I?this._location=n:this._location=I.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new I(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Me(this._location.path)}get storage(){return this._service}get parent(){let e=Yn(this._location.path);if(e===null)return null;let n=new I(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Sn(e)}};function ds(t,e,n){t._throwIfRoot("uploadBytes");let s=hs(t.storage,t._location,Be(),new gt(e,!0),n);return t.storage.makeRequestWithTokens(s,je).then(i=>({metadata:i,ref:t}))}function ps(t){t._throwIfRoot("getDownloadURL");let e=cs(t.storage,t._location,Be());return t.storage.makeRequestWithTokens(e,je).then(n=>{if(n===null)throw kn();return n})}function fs(t,e){let n=Jn(t._location.path,e),s=new I(t._location.bucket,n);return new z(t.storage,s)}function ms(t){return/^[A-Za-z]+:\/\//.test(t)}function _s(t,e){return new z(t,e)}function qe(t,e){if(t instanceof ot){let n=t;if(n._bucket==null)throw On();let s=new z(n,n._bucket);return e!=null?qe(s,e):s}else return e!==void 0?fs(t,e):t}function gs(t,e){if(e&&ms(e)){if(t instanceof ot)return _s(t,e);throw Lt("To use ref(service, url), the first argument must be a Storage instance.")}else return qe(t,e)}function Ee(t,e){let n=e?.[xe];return n==null?null:I.makeFromBucketSpec(n,t)}function Ts(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:ie(i,t.app.options.projectId))}var ot=class{constructor(e,n,s,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=ke,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_n,this._maxUploadRetryTime=gn,this._requests=new Set,i!=null?this._bucket=I.makeFromBucketSpec(i,this._host):this._bucket=Ee(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=I.makeFromBucketSpec(this._url,e):this._bucket=Ee(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ce("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ce("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return ct(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return ct(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new z(this,e)}_makeRequest(e,n,s,i,o=!0){if(this._deleted)return new Ft(Se());{let r=jn(e,this._appId,s,i,n,this._firebaseVersion,o);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}makeRequestWithTokens(e,n){return ct(this,null,function*(){let[s,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,i).getPromise()})}},Oe="@firebase/storage",Ae="0.12.5";var $e="storage";function ze(t,e,n){return t=Q(t),ds(t,e,n)}function Ve(t){return t=Q(t),ps(t)}function Ge(t,e){return t=Q(t),gs(t,e)}function We(t=le(),e){t=Q(t);let s=ce(t,$e).getImmediate({identifier:e}),i=se("storage");return i&&Xe(s,...i),s}function Xe(t,e,n,s={}){Ts(t,e,n,s)}function bs(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ot(n,s,i,e,ue)}function vs(){ae(new re($e,bs,"PUBLIC").setMultipleInstances(!0)),tt(Oe,Ae,""),tt(Oe,Ae,"esm2017")}vs();var rt=class{constructor(e){return e}},Ze="storage",Xt=class{constructor(){return pe(Ze)}};var Zt=new lt("angularfire2.storage-instances");function ys(t,e){let n=de(Ze,t,e);return n&&new rt(n)}function Rs(t){return(e,n)=>{let s=e.runOutsideAngular(()=>t(n));return new rt(s)}}var ws={provide:Xt,deps:[[new V,Zt]]},Cs={provide:rt,useFactory:ys,deps:[[new V,Zt],_e]};function _i(t,...e){return tt("angularfire",he.full,"gcs"),ht([Cs,ws,{provide:Zt,useFactory:Rs(t),multi:!0,deps:[G,F,me,ge,[new V,Te],[new V,fe],...e]}])}var gi=et(Ve,!0);var Ti=et(We,!0);var bi=et(Ge,!0);var vi=et(ze,!0);export{Re as a,fn as b,js as c,rt as d,_i as e,gi as f,Ti as g,bi as h,vi as i};
