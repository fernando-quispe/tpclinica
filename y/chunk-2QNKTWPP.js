import{a as ne,c as ae,e as oe,f as re,h as ce,i as le,j as Ye,k as X,l as pe}from"./chunk-2UVYWUYY.js";import{a as ie,b as R,d as Qe,e as We,g as ue,h as Xe,i as Ke}from"./chunk-D3IMMDCS.js";import{A as me,B as q,a as je,b as Ue,l as $e,m as j,n as _,o as U,p as G,r as ze,s as H,u as B,v as Y,w as Ge,x as He,y as Be,z as Q}from"./chunk-CVW3PDBT.js";import{c as se,d as Z,f as W,g as ee,h as te}from"./chunk-WXI33M2S.js";import{Ab as Ie,Bb as Fe,Cb as Te,Db as t,Eb as y,F as xe,Fb as z,Gb as Ae,Hb as Pe,Ib as Ne,Jb as Me,Lb as w,Mb as Ve,Nb as Oe,Oa as J,Ob as De,Pb as ke,Sa as s,Ta as E,V as ve,W as be,_ as Ee,e as D,ea as S,fa as Ce,hb as u,jb as m,kc as qe,lc as O,mc as k,nb as i,nc as Re,oa as x,ob as e,oc as Le,pa as v,pb as g,qa as Se,sb as C,u as _e,ub as h,vb as f,wa as $,x as he,yb as ye,zb as we}from"./chunk-JRU3JP26.js";var K=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=S({type:r,selectors:[["app-spinner"]],standalone:!0,features:[w],decls:3,vars:0,consts:[["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"]],template:function(o,l){o&1&&(i(0,"div",0)(1,"span",1),t(2,"Loading..."),e()())}});let n=r;return n})();var st=n=>({selected:n});function dt(n,r){if(n&1){let d=C();i(0,"ul",14)(1,"li",15),h("click",function(){let o=x(d).$implicit,l=f();return v(l.selectObjeto(o))}),i(2,"div")(3,"h6",16),t(4),e(),i(5,"h6",16),t(6),e()()()()}if(n&2){let d=r.$implicit,a=f();s(),m("ngClass",Ve(3,st,a.isSelected(d))),s(3),y(d.nombre),s(2),y(d.description)}}function mt(n,r){n&1&&(i(0,"span",25),t(1," El"),i(2,"strong"),t(3,"Nombre"),e(),t(4," es requerido"),e())}function ct(n,r){n&1&&(i(0,"span",25),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," debe ser m\xE1s de 3 caracteres"),e())}function pt(n,r){n&1&&(i(0,"span",25),t(1," La "),i(2,"strong"),t(3,"Descripci\xF3n"),e(),t(4," es requerida"),e())}function ut(n,r){if(n&1&&(i(0,"form",17)(1,"div",18)(2,"div",19)(3,"label",20),t(4,"Nombre"),e(),g(5,"input",21),u(6,mt,5,0,"span",22)(7,ct,5,0,"span",22),e()(),i(8,"div",18)(9,"div",19)(10,"label",23),t(11,"Descripcion"),e(),g(12,"textarea",24),u(13,pt,5,0,"span",22),e()()()),n&2){let d,a,o,l=f();m("formGroup",l.newEspecialidad),s(6),m("ngIf",((d=l.newEspecialidad.get("nombre"))==null?null:d.hasError("required"))&&((d=l.newEspecialidad.get("nombre"))==null?null:d.touched)),s(),m("ngIf",((a=l.newEspecialidad.get("nombre"))==null?null:a.hasError("minlength"))&&((a=l.newEspecialidad.get("nombre"))==null?null:a.touched)),s(6),m("ngIf",((o=l.newEspecialidad.get("description"))==null?null:o.hasError("required"))&&((o=l.newEspecialidad.get("description"))==null?null:o.touched))}}function ft(n,r){n&1&&(i(0,"div",26),g(1,"app-spinner"),e())}function gt(n,r){if(n&1){let d=C();i(0,"div",27)(1,"button",28),t(2,"Cancelar"),e(),i(3,"button",29),h("click",function(){x(d);let o=f();return v(o.addEspecialidad())}),t(4,"Agregar"),e()()}if(n&2){let d=f();s(3),m("disabled",!d.newEspecialidad.valid)}}var ge=(()=>{let r=class r{constructor(a,o){this.clinicaFire=a,this.fb=o,this.botonSeleccionado=null,this.especialidades=[],this.selectedObjeto=null,this.seleccionar=new $,this.loading=!1,this.newEspecialidad=this.fb.group({nombre:["",[_.required,_.minLength(3)]],description:["",[_.required]],estado:["Activa"]})}ngOnInit(){this.clinicaFire.getEspecialidad().subscribe(a=>{this.especialidades=a})}selectObjeto(a){this.seleccionar.emit(a),this.selectedObjeto=a.nombre}isSelected(a){return this.selectedObjeto===a.nombre}addEspecialidad(){return D(this,null,function*(){try{this.loading=!0;let a=this.newEspecialidad.value,o=yield this.clinicaFire.addEspecialidad(a);console.log("respuesta de firestore: ",o)}catch(a){console.log("Error: ",a)}finally{this.newEspecialidad.reset(),this.loading=!1}})}};r.\u0275fac=function(o){return new(o||r)(E(R),E(Q))},r.\u0275cmp=S({type:r,selectors:[["app-tabla-especialidad"]],outputs:{seleccionar:"seleccionar"},standalone:!0,features:[w],decls:19,vars:4,consts:[["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@mdo",1,"btn","btn-primary"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],["class","list-group",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","lh-sm",3,"click","ngClass"],[1,"my-0","p-2"],[3,"formGroup"],[1,"mb-3"],[1,"col-12"],["for","nombre",1,"form-label"],["id","nombre","type","text","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","description",1,"form-label"],["id","description","formControlName","description","rows","3",1,"form-control"],[1,"text-danger"],[1,"d-flex","justify-content-center","align-items-center"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click","disabled"]],template:function(o,l){o&1&&(i(0,"section")(1,"button",0),t(2,"Agregar"),e(),g(3,"hr"),i(4,"h4",1)(5,"span",2),t(6,"Lista de Especialidades"),e()(),u(7,dt,7,5,"ul",3),i(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),t(13,"Nueva Especialidad"),e(),g(14,"button",9),e(),i(15,"div",10),u(16,ut,14,4,"form",11)(17,ft,2,0,"div",12),e(),u(18,gt,5,1,"div",13),e()()()()),o&2&&(s(7),m("ngForOf",l.especialidades),s(9),m("ngIf",!l.loading),s(),m("ngIf",l.loading),s(),m("ngIf",!l.loading))},dependencies:[O,k,K,qe,q,H,j,U,G,B,Y],styles:["li[_ngcontent-%COMP%]{cursor:pointer;margin-top:3px}.selected[_ngcontent-%COMP%]{background-color:#0d689d;color:#fff}"]});let n=r;return n})();function _t(n,r){if(n&1&&(i(0,"ul",13)(1,"li",14)(2,"div")(3,"h6",15),t(4),e(),i(5,"h6",15),t(6),e()()()()),n&2){let d=r.$implicit;s(4),y(d.nombre),s(2),y(d.description)}}var Je=(()=>{let r=class r{constructor(a){this.clinicaFire=a,this.closeModal=new $,this.especialidades=[],this.idref=[]}ngOnInit(){if(this.data){let a=this.data.id;a&&this.clinicaFire.getEspecialidadProfesional(a).subscribe(o=>{this.idref=o,this.clinicaFire.getEspecialidad().subscribe(l=>{this.especialidades=l,this.especialidades=this.especialidades.filter(p=>this.idref.some(b=>b.especialidadRef===p.id))})})}}onCloseModal(){this.closeModal.emit()}};r.\u0275fac=function(o){return new(o||r)(E(R))},r.\u0275cmp=S({type:r,selectors:[["app-m-usuario"]],inputs:{data:"data"},outputs:{closeModal:"closeModal"},standalone:!0,features:[w],decls:39,vars:9,consts:[["tabindex","-1",1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["align","center"],[1,"circular-container"],[1,"img-fluid",3,"src","alt"],["class","list-group",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-start","lh-sm"],[1,"my-0","p-2"]],template:function(o,l){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t(5),e(),i(6,"button",5),h("click",function(){return l.onCloseModal()}),e()(),i(7,"div",6)(8,"div",7)(9,"div",8),g(10,"img",9),e()(),i(11,"p")(12,"strong"),t(13,"Nombre: "),e(),t(14),e(),i(15,"p")(16,"strong"),t(17,"Apellido: "),e(),t(18),e(),i(19,"p")(20,"strong"),t(21,"Correo Electr\xF3nico: "),e(),t(22),e(),i(23,"p")(24,"strong"),t(25,"DNI: "),e(),t(26),e(),i(27,"p")(28,"strong"),t(29,"Edad: "),e(),t(30),e(),g(31,"hr"),i(32,"p")(33,"strong"),t(34,"Especialidades"),e()(),u(35,_t,7,2,"ul",10),e(),i(36,"div",11)(37,"button",12),h("click",function(){return l.onCloseModal()}),t(38,"Close"),e()()()()()),o&2&&(s(5),y(l.data==null?null:l.data.rol),s(5),m("src",l.data==null?null:l.data.imagen,J)("alt",l.data==null?null:l.data.nombre),s(4),z(" ",l.data==null?null:l.data.nombre,""),s(4),z(" ",l.data==null?null:l.data.apellido,""),s(4),z(" ",l.data==null?null:l.data.mail,""),s(4),z(" ",l.data==null?null:l.data.dni,""),s(4),z(" ",l.data==null?null:l.data.edad,""),s(5),m("ngForOf",l.especialidades))},dependencies:[O],styles:[".modal[_ngcontent-%COMP%]{display:block}.circular-container[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#727272}img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]});let n=r;return n})();function ht(n,r){if(n&1){let d=C();i(0,"tr")(1,"td"),t(2),e(),i(3,"td"),t(4),e(),i(5,"td"),t(6),e(),i(7,"td"),t(8),e(),i(9,"td")(10,"button",7),h("click",function(){let o=x(d).$implicit,l=f();return v(l.aceptarRechazar(o.id||"","Aprobado"))}),t(11,"Aceptar"),e(),i(12,"button",8),h("click",function(){let o=x(d).$implicit,l=f();return v(l.aceptarRechazar(o.id||"","Rechazado"))}),t(13,"Rechazar"),e(),i(14,"button",9),h("click",function(){let o=x(d).$implicit,l=f();return v(l.setSelectedItem(o))}),t(15,"Ver mas"),e()()()}if(n&2){let d=r.$implicit;s(2),y(d.nombre),s(2),y(d.apellido),s(2),y(d.mail),s(2),y(d.dni)}}function xt(n,r){if(n&1){let d=C();i(0,"app-m-usuario",10),h("closeModal",function(){x(d);let o=f();return v(o.setSelectedItem(null))}),e()}if(n&2){let d=f();m("data",d.selectedItem)}}var Ki=(()=>{let r=class r{constructor(){this.selectedItem=null,this.onAceptarRechazar=new $,this.profPendientes=[]}setSelectedItem(a){this.selectedItem=a}aceptarRechazar(a,o){a!=""&&this.onAceptarRechazar.emit({id:a,value:o})}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=S({type:r,selectors:[["app-prof-pendientes"]],inputs:{profPendientes:"profPendientes"},outputs:{onAceptarRechazar:"onAceptarRechazar"},standalone:!0,features:[w],decls:21,vars:2,consts:[[1,"container"],[1,"my-3","p-3","bg-body","rounded","shadow-sm"],[1,"border-bottom","pb-2","mb-0"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[3,"data","closeModal",4,"ngIf"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-info",3,"click"],[3,"closeModal","data"]],template:function(o,l){o&1&&(i(0,"section",0)(1,"div",1)(2,"h2",2),t(3,"Especialista Pendientes"),e(),i(4,"table",3)(5,"thead")(6,"tr")(7,"th",4),t(8,"Nombre"),e(),i(9,"th",4),t(10,"Apellido"),e(),i(11,"th",4),t(12,"Correo electr\xF3nico"),e(),i(13,"th",4),t(14,"DNI"),e(),i(15,"th",4),t(16,"Acci\xF3n"),e()()(),i(17,"tbody"),u(18,ht,16,4,"tr",5),e()()(),g(19,"hr"),u(20,xt,1,1,"app-m-usuario",6),e()),o&2&&(s(18),m("ngForOf",l.profPendientes),s(2),m("ngIf",l.selectedItem))},dependencies:[O,Je],styles:["button[_ngcontent-%COMP%]{margin-right:5px}"]});let n=r;return n})();var Ze=(()=>{let r=class r{constructor(a){this.http=a,this.apiUrl="URL_DE_TU_SERVICIO_DE_VALIDACION"}validarCaptcha(a){let o={token:a};return this.http.post(this.apiUrl,o)}getTokenClientModule(a){let o={headers:new je({"Content-Type":"application/json"})};return this.http.post("http://0.0.0.0:5000/api/v1/verificar/"+a+"/",o).pipe(he(l=>l),xe(l=>(console.log("error caught in service"),console.error(l),_e(l))))}};r.\u0275fac=function(o){return new(o||r)(Ee(Ue))},r.\u0275prov=ve({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function bt(n,r){if(n&1){let d=C();i(0,"div")(1,"p"),t(2,"Ejemplo de ejecuci\xF3n HttpClient(asincrona) de google recaptcha "),e(),i(3,"button",3),h("click",function(){x(d);let o=f();return v(o.getInfoRecaptcha())}),t(4," Comprobaci\xF3n"),e()()}}function Et(n,r){n&1&&(i(0,"div")(1,"p"),t(2,"Cargando ..."),e()())}function Ct(n,r){n&1&&(i(0,"div")(1,"p"),t(2,"De momento eres un robot, presiona el bot\xF3n"),e()())}function St(n,r){n&1&&(i(0,"div")(1,"p"),t(2,"No eres un robot, Felicitaciones "),e()())}var tt=(()=>{let r=class r{constructor(a,o){this.httpService=a,this.recaptchaV3Service=o,this.robot=!0,this.presionado=!1}ngOnInit(){this.robot=!0,this.presionado=!1}getInfoRecaptcha(){this.robot=!0,this.presionado=!0,this.recaptchaV3Service.execute("").subscribe(a=>{this.httpService.getTokenClientModule(a).subscribe({complete:()=>{this.presionado=!1},error:()=>{this.presionado=!1,this.robot=!0,alert("Tenemos un problema, recarga la p\xE1gina para solucionarlo o contacta con fernandoquispe.utn@gmail.com")},next:l=>{l===!0?(this.presionado=!1,this.robot=!1):(alert("Error en el captcha. Eres un robot"),this.presionado=!1,this.robot=!0)}})})}};r.\u0275fac=function(o){return new(o||r)(E(Ze),E(Ye))},r.\u0275cmp=S({type:r,selectors:[["app-captcha"]],standalone:!0,features:[w],decls:6,vars:4,consts:[[1,"container"],[1,"row"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(o,l){o&1&&(i(0,"div",0)(1,"div",1),u(2,bt,5,0,"div",2),e()(),u(3,Et,3,0,"div",2)(4,Ct,3,0,"div",2)(5,St,3,0,"div",2)),o&2&&(s(2),m("ngIf",l.robot==!0),s(),m("ngIf",l.presionado==!0),s(),m("ngIf",l.robot==!0),s(),m("ngIf",l.robot==!1))},dependencies:[k,X,le]});let n=r;return n})();var yt=["captchaElem"];function wt(n,r){n&1&&(i(0,"span",35),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," es requerido"),e())}function It(n,r){n&1&&(i(0,"span",35),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," debe tener m\xE1s de 3 caracteres"),e())}function Ft(n,r){n&1&&(i(0,"span",35),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," es requerido"),e())}function Tt(n,r){n&1&&(i(0,"span",35),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," debe tener m\xE1s de 3 caracteres"),e())}function At(n,r){n&1&&(i(0,"span",35),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," es requerida"),e())}function Pt(n,r){n&1&&(i(0,"span",35),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," debe ser mayor o igual a 18 a\xF1os. "),e())}function Nt(n,r){n&1&&(i(0,"span",35),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," debe ser menor o igual a 99 a\xF1os. "),e())}function Mt(n,r){n&1&&(i(0,"span",35),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," solo permite n\xFAmeros "),e())}function Vt(n,r){n&1&&(i(0,"span",35),t(1," El "),i(2,"strong"),t(3,"DNI"),e(),t(4," es requerido "),e())}function Ot(n,r){n&1&&(i(0,"span",35),t(1," El "),i(2,"strong"),t(3,"DNI"),e(),t(4," solo permite n\xFAmeros "),e())}function Dt(n,r){if(n&1&&(i(0,"option",22),t(1),e()),n&2){let d=r.$implicit;m("ngValue",d.nombre),s(),y(d.nombre)}}function kt(n,r){n&1&&(i(0,"span",35),t(1," El "),i(2,"strong"),t(3,"Correo Electr\xF3nico"),e(),t(4," es requerido "),e())}function qt(n,r){n&1&&(i(0,"span",35),t(1," El "),i(2,"strong"),t(3,"Correo Electr\xF3nico"),e(),t(4," no tiene el formato correcto. "),e())}function Rt(n,r){n&1&&(i(0,"span",35),t(1," La "),i(2,"strong"),t(3," Contrase\xF1a "),e(),t(4," es requerida "),e())}function Lt(n,r){n&1&&(i(0,"span",35),t(1," La "),i(2,"strong"),t(3,"Contrase\xF1a"),e(),t(4," tiene que ser mayor a 6 caracteres. "),e())}function jt(n,r){if(n&1){let d=C();i(0,"div",3)(1,"div",4)(2,"h4",5),t(3,"Registro de paciente"),e(),i(4,"form",6),h("ngSubmit",function(){x(d);let o=f();return v(o.addPaciente())}),i(5,"div",7)(6,"div",8)(7,"label",9),t(8,"Nombre"),e(),g(9,"input",10),u(10,wt,5,0,"span",11)(11,It,5,0,"span",11),e(),i(12,"div",8)(13,"label",12),t(14,"Apellido"),e(),g(15,"input",13),u(16,Ft,5,0,"span",11)(17,Tt,5,0,"span",11),e(),i(18,"div",14)(19,"label",15),t(20,"Edad"),e(),g(21,"input",16),u(22,At,5,0,"span",11)(23,Pt,5,0,"span",11)(24,Nt,5,0,"span",11)(25,Mt,5,0,"span",11),e(),i(26,"div",17)(27,"label",18),t(28,"DNI"),e(),g(29,"input",19),u(30,Vt,5,0,"span",11)(31,Ot,5,0,"span",11),e(),i(32,"div",17)(33,"label",20),t(34,"Obra social"),e(),i(35,"select",21)(36,"option",22),t(37,"Selecciona una Obra Social"),e(),u(38,Dt,2,2,"option",23),e()(),i(39,"div",17)(40,"label",24),t(41,"Correo Electronico"),e(),g(42,"input",25),u(43,kt,5,0,"span",11)(44,qt,5,0,"span",11),e(),i(45,"div",17)(46,"label",26),t(47,"Contrase\xF1a"),e(),g(48,"input",27),u(49,Rt,5,0,"span",11)(50,Lt,5,0,"span",11),e(),i(51,"div",17)(52,"label",28),t(53,"Imagen"),e(),i(54,"input",29),h("change",function(o){x(d);let l=f();return v(l.uploadImage(o))}),e()(),i(55,"div",17)(56,"label",28),t(57," Imagen 2 "),i(58,"span",30),t(59,"(Opcional)"),e()(),i(60,"input",29),h("change",function(o){x(d);let l=f();return v(l.uploadImage2(o))}),e()()(),i(61,"div",31)(62,"re-captcha",32),h("success",function(o){x(d);let l=f();return v(l.handleSuccess(o))}),e()(),g(63,"hr",33),i(64,"button",34),t(65," Agregar "),e()()()()}if(n&2){let d,a,o,l,p,b,I,F,T,A,P,N,M,V,c=f();s(4),m("formGroup",c.paciente),s(6),m("ngIf",((d=c.paciente.get("nombre"))==null?null:d.hasError("required"))&&((d=c.paciente.get("nombre"))==null?null:d.touched)),s(),m("ngIf",((a=c.paciente.get("nombre"))==null?null:a.hasError("minlength"))&&((a=c.paciente.get("nombre"))==null?null:a.touched)),s(5),m("ngIf",((o=c.paciente.get("apellido"))==null?null:o.hasError("required"))&&((o=c.paciente.get("apellido"))==null?null:o.touched)),s(),m("ngIf",((l=c.paciente.get("apellido"))==null?null:l.hasError("minlength"))&&((l=c.paciente.get("apellido"))==null?null:l.touched)),s(5),m("ngIf",((p=c.paciente.get("edad"))==null?null:p.hasError("required"))&&((p=c.paciente.get("edad"))==null?null:p.touched)),s(),m("ngIf",((b=c.paciente.get("edad"))==null?null:b.hasError("min"))&&((b=c.paciente.get("edad"))==null?null:b.touched)),s(),m("ngIf",((I=c.paciente.get("edad"))==null?null:I.hasError("max"))&&((I=c.paciente.get("edad"))==null?null:I.touched)),s(),m("ngIf",((F=c.paciente.get("edad"))==null?null:F.hasError("soloNumeros"))&&((F=c.paciente.get("edad"))==null?null:F.touched)),s(5),m("ngIf",((T=c.paciente.get("dni"))==null?null:T.hasError("required"))&&((T=c.paciente.get("dni"))==null?null:T.touched)),s(),m("ngIf",((A=c.paciente.get("dni"))==null?null:A.hasError("soloNumeros"))&&((A=c.paciente.get("dni"))==null?null:A.touched)),s(5),m("ngValue",null),s(2),m("ngForOf",c.obraSociales),s(5),m("ngIf",((P=c.paciente.get("mail"))==null?null:P.hasError("required"))&&((P=c.paciente.get("mail"))==null?null:P.touched)),s(),m("ngIf",((N=c.paciente.get("mail"))==null?null:N.hasError("email"))&&((N=c.paciente.get("mail"))==null?null:N.touched)),s(5),m("ngIf",((M=c.paciente.get("password"))==null?null:M.hasError("password"))&&((M=c.paciente.get("password"))==null?null:M.touched)),s(),m("ngIf",((V=c.paciente.get("password"))==null?null:V.hasError("minlength"))&&((V=c.paciente.get("password"))==null?null:V.touched)),s(14),m("disabled",!c.paciente.valid)}}function Ut(n,r){n&1&&(i(0,"div",36),g(1,"app-spinner"),e())}var at=(()=>{let r=class r{constructor(a,o,l,p){this.fb=a,this.clinicaFire=o,this.storage=l,this.auth=p,this.obraSociales=[],this.selectedObraSocial=null,this.loading=!1,this.recaptcha=!1,this.paciente=this.fb.group({nombre:["",[_.required,_.minLength(3)]],apellido:["",[_.required,_.minLength(3)]],edad:["",[_.required,_.min(18),_.max(99),this.validarNumber]],dni:["",[_.required,this.validarNumber]],obraSocial:["",[_.required]],mail:["",[_.required,_.email]],password:["",[_.required,_.minLength(6)]],imagen:[""],imagen2:[""],rol:["Paciente"]}),this.siteKey="6Lck3yApAAAAAD67G7-iTRntXQfLlcXcUHWiYdhh"}ngOnInit(){this.clinicaFire.getObraSocial().subscribe(a=>{this.obraSociales=a})}validarNumber(a){let o=a.value;return/^\d+$/.test(o)?null:{soloNumeros:!0}}uploadImage(a){this.file=a.target.files[0]}uploadImage2(a){this.file2=a.target.files[0]}addPaciente(){return D(this,null,function*(){try{if(this.loading=!0,this.file){let p=yield this.uploadFile(this.file);this.paciente.patchValue({imagen:p})}if(this.file2){let p=yield this.uploadFile(this.file2);this.paciente.patchValue({imagen2:p})}let a=this.paciente.value.mail,o=this.paciente.value.password,l=yield this.auth.registerUser(a,o);if(l){console.log("se creo un nuevo registro");let p=l.user.uid;console.log(p),this.paciente.patchValue({password:""});let b=this.paciente.value;yield this.clinicaFire.addPaciente(b,p)}}catch(a){console.log("Error: ",a)}finally{this.paciente.reset(),this.loading=!1}})}uploadFile(a){return D(this,null,function*(){let o=oe(this.storage,`images/${this.file.name}`),l=yield re(o,a);return yield ae(o)})}handleSuccess(a){a&&(this.recaptcha=!0)}};r.\u0275fac=function(o){return new(o||r)(E(Q),E(R),E(ne),E(ie))},r.\u0275cmp=S({type:r,selectors:[["app-alta-pacientes"]],viewQuery:function(o,l){if(o&1&&we(yt,5),o&2){let p;Ie(p=Fe())&&(l.captchaElem=p.first)}},standalone:!0,features:[w],decls:3,vars:2,consts:[[1,"container","mb-5"],["class","row",4,"ngIf"],["class","d-flex justify-content-center align-items-center vh-100",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12","col-lg-4"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],[1,"col-12","col-md-4"],["for","edad",1,"form-label"],["id","edad","type","text","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],[1,"col-12","col-md-6"],["for","dni",1,"form-label"],["type","text","placeholder","Ingrese DNI","formControlName","dni",1,"form-control"],["for","obraSocial",1,"form-label"],["aria-label","Obra Social","formControlName","obraSocial",1,"form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","mail",1,"form-label"],["type","text","placeholder","Ingrese Correo Electronico","formControlName","mail",1,"form-control"],["for","password",1,"form-label"],["type","password","placeholder","Ingrese Contrase\xF1a","formControlName","password",1,"form-control"],["for","image01n",1,"form-label"],["type","file","id","image01n","placeholder","",1,"form-control",3,"change"],[1,"text-muted"],[2,"margin-top","5px"],["siteKey","",3,"success"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-lg",2,"background-color","#0d689d","color","white",3,"disabled"],[1,"text-danger"],[1,"d-flex","justify-content-center","align-items-center","vh-100"]],template:function(o,l){o&1&&(i(0,"div",0),u(1,jt,66,18,"div",1)(2,Ut,2,0,"div",2),e()),o&2&&(s(),m("ngIf",!l.loading),s(),m("ngIf",l.loading))},dependencies:[k,O,pe,le,ce,K,X,q,H,He,Be,j,Ge,U,G,B,Y]});let n=r;return n})();function $t(n,r){n&1&&(i(0,"span",34),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," es requerido "),e())}function zt(n,r){n&1&&(i(0,"span",34),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4,"debe tener m\xE1s de 3 caracteres"),e())}function Gt(n,r){n&1&&(i(0,"span",34),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," es requerido"),e())}function Ht(n,r){n&1&&(i(0,"span",34),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," Debe tener m\xE1s de 3 caracteres"),e())}function Bt(n,r){n&1&&(i(0,"span",34),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," es requerido"),e())}function Yt(n,r){n&1&&(i(0,"span",34),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," debe ser mayor o igual a 18 a\xF1os. "),e())}function Qt(n,r){n&1&&(i(0,"span",34),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," debe ser menor o igual a 99 a\xF1os. "),e())}function Wt(n,r){n&1&&(i(0,"span",34),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," solo permiten n\xFAmeros "),e())}function Xt(n,r){n&1&&(i(0,"span",34),t(1," El "),i(2,"strong"),t(3,"DNI"),e(),t(4," es requerido "),e())}function Kt(n,r){n&1&&(i(0,"span",34),t(1," El "),i(2,"strong"),t(3,"DNI"),e(),t(4," solo permiten n\xFAmeros "),e())}function Jt(n,r){if(n&1){let d=C();i(0,"div",35)(1,"span",36),t(2),i(3,"button",37),h("click",function(){let o=x(d).$implicit,l=f(2);return v(l.eliminarElemento(o))}),t(4,"X"),e()()()}if(n&2){let d=r.$implicit;s(2),z(" ",d," ")}}function Zt(n,r){n&1&&(i(0,"span",34),t(1," El "),i(2,"strong"),t(3,"Correo Electr\xF3nico"),e(),t(4," es requerido "),e())}function ei(n,r){n&1&&(i(0,"span",34),t(1," El "),i(2,"strong"),t(3," Correo Electr\xF3nico"),e(),t(4," no tiene el formato correcto. "),e())}function ti(n,r){n&1&&(i(0,"span",34),t(1," La "),i(2,"strong"),t(3," Contrase\xF1a "),e(),t(4," es requerida "),e())}function ii(n,r){n&1&&(i(0,"span",34),t(1," La "),i(2,"strong"),t(3," Contrase\xF1a "),e(),t(4," tiene que ser mayor a 6 caracteres. "),e())}function ni(n,r){if(n&1){let d=C();i(0,"div",3)(1,"div",4)(2,"app-tabla-especialidad",5),h("seleccionar",function(o){x(d);let l=f();return v(l.seleccionarEspecialidad(o))}),e()(),i(3,"div",6)(4,"h4",7),t(5,"Registro del Especialista"),e(),i(6,"form",8),h("ngSubmit",function(){x(d);let o=f();return v(o.addprofesional())}),i(7,"div",9)(8,"div",10)(9,"label",11),t(10,"Nombre"),e(),g(11,"input",12),u(12,$t,5,0,"span",13)(13,zt,5,0,"span",13),e(),i(14,"div",10)(15,"label",14),t(16,"Apellido"),e(),g(17,"input",15),u(18,Gt,5,0,"span",13)(19,Ht,5,0,"span",13),e(),i(20,"div",16)(21,"label",17),t(22,"Edad"),e(),g(23,"input",18),u(24,Bt,5,0,"span",13)(25,Yt,5,0,"span",13)(26,Qt,5,0,"span",13)(27,Wt,5,0,"span",13),e(),i(28,"div",16)(29,"label",19),t(30,"DNI"),e(),g(31,"input",20),u(32,Xt,5,0,"span",13)(33,Kt,5,0,"span",13),e(),i(34,"div",21)(35,"h5"),t(36,"Especialidades"),e(),i(37,"div",22),u(38,Jt,5,1,"div",23),e()(),i(39,"div",21)(40,"label",24),t(41,"Correo Electronico"),e(),g(42,"input",25),u(43,Zt,5,0,"span",13)(44,ei,5,0,"span",13),e(),i(45,"div",21)(46,"label",26),t(47,"Contrase\xF1a"),e(),g(48,"input",27),u(49,ti,5,0,"span",13)(50,ii,5,0,"span",13),e(),i(51,"div",21)(52,"label",28),t(53,"Imagen"),e(),i(54,"input",29),h("change",function(o){x(d);let l=f();return v(l.uploadImage(o))}),e()()(),i(55,"form",30)(56,"re-captcha",31),h("success",function(o){x(d);let l=f();return v(l.handleSuccess(o))}),e()(),g(57,"hr",32),i(58,"button",33),t(59," Agregar "),e()()()()}if(n&2){let d,a,o,l,p,b,I,F,T,A,P,N,M,V,c=f();s(6),m("formGroup",c.profesional),s(6),m("ngIf",((d=c.profesional.get("nombre"))==null?null:d.hasError("required"))&&((d=c.profesional.get("nombre"))==null?null:d.touched)),s(),m("ngIf",((a=c.profesional.get("nombre"))==null?null:a.hasError("minlength"))&&((a=c.profesional.get("nombre"))==null?null:a.touched)),s(5),m("ngIf",((o=c.profesional.get("apellido"))==null?null:o.hasError("required"))&&((o=c.profesional.get("apellido"))==null?null:o.touched)),s(),m("ngIf",((l=c.profesional.get("apellido"))==null?null:l.hasError("minlength"))&&((l=c.profesional.get("apellido"))==null?null:l.touched)),s(5),m("ngIf",((p=c.profesional.get("edad"))==null?null:p.hasError("required"))&&((p=c.profesional.get("edad"))==null?null:p.touched)),s(),m("ngIf",((b=c.profesional.get("edad"))==null?null:b.hasError("min"))&&((b=c.profesional.get("edad"))==null?null:b.touched)),s(),m("ngIf",((I=c.profesional.get("edad"))==null?null:I.hasError("max"))&&((I=c.profesional.get("edad"))==null?null:I.touched)),s(),m("ngIf",((F=c.profesional.get("edad"))==null?null:F.hasError("soloNumeros"))&&((F=c.profesional.get("edad"))==null?null:F.touched)),s(5),m("ngIf",((T=c.profesional.get("dni"))==null?null:T.hasError("required"))&&((T=c.profesional.get("dni"))==null?null:T.touched)),s(),m("ngIf",((A=c.profesional.get("dni"))==null?null:A.hasError("soloNumeros"))&&((A=c.profesional.get("dni"))==null?null:A.touched)),s(5),m("ngForOf",c.especialidades),s(5),m("ngIf",((P=c.profesional.get("mail"))==null?null:P.hasError("required"))&&((P=c.profesional.get("mail"))==null?null:P.touched)),s(),m("ngIf",((N=c.profesional.get("mail"))==null?null:N.hasError("email"))&&((N=c.profesional.get("mail"))==null?null:N.touched)),s(5),m("ngIf",((M=c.profesional.get("password"))==null?null:M.hasError("password"))&&((M=c.profesional.get("password"))==null?null:M.touched)),s(),m("ngIf",((V=c.profesional.get("password"))==null?null:V.hasError("minlength"))&&((V=c.profesional.get("password"))==null?null:V.touched)),s(8),m("disabled",c.especialidades.length===0||!c.profesional.valid)}}function ai(n,r){n&1&&(i(0,"div",38),g(1,"app-spinner"),e())}var ot=(()=>{let r=class r{constructor(a,o,l,p){this.fb=a,this.clinicaFire=o,this.storage=l,this.auth=p,this.loading=!1,this.especialidades=[],this.recaptcha=!1,this.profesional=this.fb.group({nombre:["",[_.required,_.minLength(3)]],apellido:["",[_.required,_.minLength(3)]],edad:["",[_.required,_.min(18),_.max(99),this.validarNumber]],dni:["",[_.required,this.validarNumber]],mail:["",[_.required,_.email]],password:["",[_.required,_.minLength(6)]],imagen:[""],especialidades:this.fb.array([]),estado:["Pendiente"],rol:["Profesional"]}),this.siteKey="6Lck3yApAAAAAD67G7-iTRntXQfLlcXcUHWiYdhh"}ngOnInit(){}validarNumber(a){let o=a.value;return/^\d+$/.test(o)?null:{soloNumeros:!0}}uploadImage(a){this.file=a.target.files[0]}addprofesional(){return D(this,null,function*(){try{if(this.loading=!0,this.file){let p=yield this.uploadFile(this.file);this.profesional.patchValue({imagen:p})}let a=this.profesional.value.mail,o=this.profesional.value.password,l=yield this.auth.registerUser(a,o);if(l){let p=l.user.uid;this.profesional.patchValue({password:""});let b=this.profesional.value;b.especialidades=this.especialidades,yield this.clinicaFire.addProfesional(b,p),this.profesional.reset()}}catch(a){console.log("Error: ",a)}finally{this.loading=!1}})}uploadFile(a){return D(this,null,function*(){let o=oe(this.storage,`images/${this.file.name}`),l=yield re(o,a);return yield ae(o)})}seleccionarEspecialidad(a){this.especialidades.find(l=>l===a.nombre)||this.especialidades.push(a.nombre)}eliminarElemento(a){this.especialidades=this.especialidades.filter(o=>o!==a)}handleSuccess(a){a&&(this.recaptcha=!0)}};r.\u0275fac=function(o){return new(o||r)(E(Q),E(R),E(ne),E(ie))},r.\u0275cmp=S({type:r,selectors:[["app-alta-profesionales"]],standalone:!0,features:[w],decls:3,vars:2,consts:[[1,"container","mb-5"],["class","row",4,"ngIf"],["class","d-flex justify-content-center align-items-center vh-100",4,"ngIf"],[1,"row"],[1,"col-md-5","col-lg-4","order-md-last"],[3,"seleccionar"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12","col-lg-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],[1,"col-12","col-md-6"],["for","edad",1,"form-label"],["id","edad","type","text","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["for","dni",1,"form-label"],["type","text","placeholder","Ingrese DNI","formControlName","dni",1,"form-control"],[1,"col-12"],[2,"white-space","nowrap"],["style","display: inline-block; white-space: normal; margin-right: 10px;",4,"ngFor","ngForOf"],["for","mail",1,"form-label"],["type","text","placeholder","Ingrese Correo Electr\xF3nico","formControlName","mail",1,"form-control"],["for","password",1,"form-label"],["type","password","placeholder","Ingrese Contrase\xF1a","formControlName","password",1,"form-control"],["for","image01n",1,"form-label"],["type","file","id","image01n","placeholder","",1,"form-control",3,"change"],[2,"margin-top","5px"],["siteKey","",3,"success"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-lg",2,"background-color","#0d689d","color","white",3,"disabled"],[1,"text-danger"],[2,"display","inline-block","white-space","normal","margin-right","10px"],[1,"badge","rounded-pill","text-bg-primary",2,"font-size","18px"],[1,"btn-delete",3,"click"],[1,"d-flex","justify-content-center","align-items-center","vh-100"]],template:function(o,l){o&1&&(i(0,"div",0),u(1,ni,60,17,"div",1)(2,ai,2,0,"div",2),e()),o&2&&(s(),m("ngIf",!l.loading),s(),m("ngIf",l.loading))},dependencies:[O,k,K,X,pe,le,ce,q,H,j,U,G,B,Y,ge]});let n=r;return n})();function oi(n,r){n&1&&(i(0,"span",27),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," es requerido"),e())}function ri(n,r){n&1&&(i(0,"span",27),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," Debe ser mas de 3 caracteres"),e())}function li(n,r){n&1&&(i(0,"span",27),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," es requerido"),e())}function si(n,r){n&1&&(i(0,"span",27),t(1," El "),i(2,"strong"),t(3,"Nombre"),e(),t(4," debe tener m\xE1s de 3 caracteres"),e())}function di(n,r){n&1&&(i(0,"span",27),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," es requerida"),e())}function mi(n,r){n&1&&(i(0,"span",27),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," debe ser mayor o igual a 18 a\xF1os. "),e())}function ci(n,r){n&1&&(i(0,"span",27),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," debe ser menor o igual a 99 a\xF1os. "),e())}function pi(n,r){n&1&&(i(0,"span",27),t(1," La "),i(2,"strong"),t(3,"Edad"),e(),t(4," solo permite n\xFAmeros "),e())}function ui(n,r){n&1&&(i(0,"span",27),t(1," El "),i(2,"strong"),t(3,"DNI"),e(),t(4," es requerido "),e())}function fi(n,r){n&1&&(i(0,"span",27),t(1," El "),i(2,"strong"),t(3,"DNI"),e(),t(4," solo permite n\xFAmeros "),e())}function gi(n,r){n&1&&(i(0,"span",27),t(1," El "),i(2,"strong"),t(3,"Correo Electr\xF3nico"),e(),t(4," es requerido "),e())}function _i(n,r){n&1&&(i(0,"span",27),t(1," El "),i(2,"strong"),t(3,"Correo Electr\xF3nico"),e(),t(4," no tiene el formato correcto. "),e())}function hi(n,r){n&1&&(i(0,"span",27),t(1," La "),i(2,"strong"),t(3," Contrase\xF1a "),e(),t(4," es requerida "),e())}function xi(n,r){n&1&&(i(0,"span",27),t(1," La "),i(2,"strong"),t(3," Contrase\xF1a "),e(),t(4," tiene que ser mayor a 6 caracteres. "),e())}function vi(n,r){if(n&1){let d=C();i(0,"div",3)(1,"div",4)(2,"h4",5),t(3,"Registro de administrador"),e(),i(4,"form",6),h("ngSubmit",function(){x(d);let o=f();return v(o.addAdministrador())}),i(5,"div",7)(6,"div",8)(7,"label",9),t(8,"Nombre"),e(),g(9,"input",10),u(10,oi,5,0,"span",11)(11,ri,5,0,"span",11),e(),i(12,"div",8)(13,"label",12),t(14,"Apellido"),e(),g(15,"input",13),u(16,li,5,0,"span",11)(17,si,5,0,"span",11),e(),i(18,"div",14)(19,"label",15),t(20,"Edad"),e(),g(21,"input",16),u(22,di,5,0,"span",11)(23,mi,5,0,"span",11)(24,ci,5,0,"span",11)(25,pi,5,0,"span",11),e(),i(26,"div",14)(27,"label",17),t(28,"DNI"),e(),g(29,"input",18),u(30,ui,5,0,"span",11)(31,fi,5,0,"span",11),e(),i(32,"div",4)(33,"label",19),t(34,"Correo Electr\xF3nico"),e(),g(35,"input",20),u(36,gi,5,0,"span",11)(37,_i,5,0,"span",11),e(),i(38,"div",4)(39,"label",21),t(40,"Contrase\xF1a"),e(),g(41,"input",22),u(42,hi,5,0,"span",11)(43,xi,5,0,"span",11),e(),i(44,"div",4)(45,"label",23),t(46,"Imagen"),e(),i(47,"input",24),h("change",function(o){x(d);let l=f();return v(l.uploadImage(o))}),e()()(),g(48,"hr",25),i(49,"button",26),t(50," Agregar "),e()()()()}if(n&2){let d,a,o,l,p,b,I,F,T,A,P,N,M,V,c=f();s(4),m("formGroup",c.admin),s(6),m("ngIf",((d=c.admin.get("nombre"))==null?null:d.hasError("required"))&&((d=c.admin.get("nombre"))==null?null:d.touched)),s(),m("ngIf",((a=c.admin.get("nombre"))==null?null:a.hasError("minlength"))&&((a=c.admin.get("nombre"))==null?null:a.touched)),s(5),m("ngIf",((o=c.admin.get("apellido"))==null?null:o.hasError("required"))&&((o=c.admin.get("apellido"))==null?null:o.touched)),s(),m("ngIf",((l=c.admin.get("apellido"))==null?null:l.hasError("minlength"))&&((l=c.admin.get("apellido"))==null?null:l.touched)),s(5),m("ngIf",((p=c.admin.get("edad"))==null?null:p.hasError("required"))&&((p=c.admin.get("edad"))==null?null:p.touched)),s(),m("ngIf",((b=c.admin.get("edad"))==null?null:b.hasError("min"))&&((b=c.admin.get("edad"))==null?null:b.touched)),s(),m("ngIf",((I=c.admin.get("edad"))==null?null:I.hasError("max"))&&((I=c.admin.get("edad"))==null?null:I.touched)),s(),m("ngIf",((F=c.admin.get("edad"))==null?null:F.hasError("soloNumeros"))&&((F=c.admin.get("edad"))==null?null:F.touched)),s(5),m("ngIf",((T=c.admin.get("dni"))==null?null:T.hasError("required"))&&((T=c.admin.get("dni"))==null?null:T.touched)),s(),m("ngIf",((A=c.admin.get("dni"))==null?null:A.hasError("soloNumeros"))&&((A=c.admin.get("dni"))==null?null:A.touched)),s(5),m("ngIf",((P=c.admin.get("mail"))==null?null:P.hasError("required"))&&((P=c.admin.get("mail"))==null?null:P.touched)),s(),m("ngIf",((N=c.admin.get("mail"))==null?null:N.hasError("email"))&&((N=c.admin.get("mail"))==null?null:N.touched)),s(5),m("ngIf",((M=c.admin.get("password"))==null?null:M.hasError("password"))&&((M=c.admin.get("password"))==null?null:M.touched)),s(),m("ngIf",((V=c.admin.get("password"))==null?null:V.hasError("minlength"))&&((V=c.admin.get("password"))==null?null:V.touched)),s(6),m("disabled",!c.admin.valid)}}function bi(n,r){n&1&&(i(0,"div",28),g(1,"app-spinner"),e())}var rt=(()=>{let r=class r{constructor(a,o,l,p){this.fb=a,this.clinicaFire=o,this.storage=l,this.auth=p,this.loading=!1,this.admin=this.fb.group({nombre:["",[_.required,_.minLength(3)]],apellido:["",[_.required,_.minLength(3)]],edad:["",[_.required,_.min(18),_.max(99),this.validarNumber]],dni:["",[_.required,this.validarNumber]],mail:["",[_.required,_.email]],password:["",[_.required,_.minLength(6)]],imagen:[""],rol:["Administrador"]})}ngOnInit(){}validarNumber(a){let o=a.value;return/^\d+$/.test(o)?null:{soloNumeros:!0}}uploadImage(a){this.file=a.target.files[0]}addAdministrador(){return D(this,null,function*(){try{if(this.loading=!0,this.file){let p=yield this.uploadFile(this.file);this.admin.patchValue({imagen:p})}let a=this.admin.value.mail,o=this.admin.value.password,l=yield this.auth.registerUser(a,o);if(l){console.log("Se creo un nuevo registro");let p=l.user.uid;console.log(p),this.admin.patchValue({password:""});let b=this.admin.value;yield this.clinicaFire.addAdministrador(b,p)}this.admin.reset()}catch(a){console.log("Error: ",a)}finally{this.loading=!1}})}uploadFile(a){return D(this,null,function*(){let o=oe(this.storage,`images/${this.file.name}`),l=yield re(o,a);return yield ae(o)})}};r.\u0275fac=function(o){return new(o||r)(E(Q),E(R),E(ne),E(ie))},r.\u0275cmp=S({type:r,selectors:[["app-alta-admin"]],standalone:!0,features:[w],decls:3,vars:2,consts:[[1,"container","mb-5"],["class","row",4,"ngIf"],["class","d-flex justify-content-center align-items-center vh-100",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12","col-lg-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],[1,"col-12","col-md-6"],["for","edad",1,"form-label"],["id","edad","type","text","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["for","dni",1,"form-label"],["type","text","placeholder","Ingrese DNI","formControlName","dni",1,"form-control"],["for","mail",1,"form-label"],["type","text","placeholder","Ingrese el Correo Electr\xF3nico","formControlName","mail",1,"form-control"],["for","password",1,"form-label"],["type","password","placeholder","Ingrese Contrase\xF1a","formControlName","password",1,"form-control"],["for","image01n",1,"form-label"],["type","file","id","image01n","placeholder","",1,"form-control",3,"change"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-lg",2,"background-color","#0d689d","color","white",3,"disabled"],[1,"text-danger"],[1,"d-flex","justify-content-center","align-items-center","vh-100"]],template:function(o,l){o&1&&(i(0,"div",0),u(1,vi,51,16,"div",1)(2,bi,2,0,"div",2),e()),o&2&&(s(),m("ngIf",!l.loading),s(),m("ngIf",l.loading))},dependencies:[q,H,j,U,G,B,Y,k,K,X]});let n=r;return n})();function Ei(n,r){if(n&1){let d=C();i(0,"div")(1,"a",6),h("click",function(){let o=x(d).$implicit,l=f();return v(l.handleLinkClick(o.mail,o.contrasena))}),g(2,"img",7),e()()}if(n&2){let d=r.$implicit;s(2),m("src",d.img,J)}}var Un=(()=>{let r=class r{constructor(){this.imageUrl="",this.buttonText="",this.buttonClick=new $,this.dataArray=[{img:"../../../assets/admin1.jpeg",mail:"fernandoquispe.utn@gmail.com",contrasena:"123456"},{img:"../../../assets/especialista02.jpg",mail:"lourdesriveramartinez1954@gmail.com",contrasena:"123456"},{img:"../../../assets/paciente111.jpg",mail:"santosquispe1950@gmail.com",contrasena:"123456"}]}handleLinkClick(a,o){this.buttonClick.emit({email:a,password:o})}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=S({type:r,selectors:[["app-favbutton"]],inputs:{imageUrl:"imageUrl",buttonText:"buttonText"},outputs:{buttonClick:"buttonClick"},standalone:!0,features:[w],decls:7,vars:1,consts:[[1,"container"],["type","checkbox","id","btn-mas"],[1,"redes"],[4,"ngFor","ngForOf"],[1,"btn-mas"],["for","btn-mas"],[3,"click"],["alt","Imagen",1,"full-width-height",3,"src"]],template:function(o,l){o&1&&(i(0,"div",0),g(1,"input",1),i(2,"div",2),u(3,Ei,3,1,"div",3),e(),i(4,"div",4)(5,"label",5),t(6,"+"),e()()()),o&2&&(s(3),m("ngForOf",l.dataArray))},dependencies:[O],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}#btn-mas[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{position:absolute;left:94%;bottom:10px;z-index:1}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .btn-mas[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-decoration:none;background:#0979e2;color:#fff;width:55px;height:55px;line-height:55px;text-align:center;border-radius:50%;box-shadow:0 1px 10px #0006;transition:all .5s ease}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img.full-width-height[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#fff;color:#cc2b2b}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:-15px;opacity:0;visibility:hidden}#btn-mas[_ngcontent-%COMP%]:checked ~ .redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:10px;opacity:1;visibility:visible}.btn-mas[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background:#0979e2;font-size:23px}"],data:{animation:[se("listAnimation",[ee("hidden",W({opacity:0,height:"0px"})),ee("visible",W({opacity:1,height:"auto"})),te("hidden => visible",Z("0.5s ease-in-out")),te("visible => hidden",Z("0.5s ease-in-out"))])]}});let n=r;return n})();function Ci(n,r){if(n&1&&g(0,"img",11),n&2){let d=f().$implicit;ye("src",d.imagen,J)}}function Si(n,r){n&1&&(Se(),i(0,"svg",12)(1,"title"),t(2,"Placeholder"),e(),g(3,"rect",13),i(4,"text",14),t(5,"140x140"),e()())}function yi(n,r){if(n&1){let d=C();i(0,"div",8)(1,"button",9),h("click",function(){let o=x(d).$implicit,l=f();return v(l.handlePatientClick(o))}),u(2,Ci,1,1,"img",10)(3,Si,6,0,"ng-template",null,0,ke),i(5,"div")(6,"h2"),t(7),e()()()()}if(n&2){let d=r.$implicit,a=Te(4);s(),m("@slideIn",void 0),s(),m("ngIf",d.imagen)("ngIfElse",a),s(5),y(d.nombre)}}function wi(n,r){if(n&1){let d=C();i(0,"div",19)(1,"label",20),t(2," Buscar por especialidad o especialista "),e(),i(3,"input",21),Me("ngModelChange",function(o){x(d);let l=f(2);return Ne(l.filtro,o)||(l.filtro=o),v(o)}),h("ngModelChange",function(){x(d);let o=f(2);return v(o.pacienteFiltrar())}),e()()}if(n&2){let d=f(2);s(3),Pe("ngModel",d.filtro)}}function Ii(n,r){if(n&1){let d=C();i(0,"td")(1,"button",23),h("click",function(){x(d);let o=f().$implicit,l=f(2);return v(l.verReviewHandler(o))}),t(2,"Ver rese\xF1a"),e()()}}function Fi(n,r){if(n&1&&(i(0,"tr")(1,"td"),t(2),e(),i(3,"td"),t(4),e(),i(5,"td"),t(6),e(),i(7,"td"),t(8),Oe(9,"uppercase"),e(),i(10,"td",22),t(11),e(),u(12,Ii,3,0,"td",6),e()),n&2){let d=r.$implicit;s(2),y(d.fecha+" - "+d.hora),s(2),Ae("",d.especialista.nombre," ",d.especialista.apellido,""),s(2),y(d.especialidad),s(2),y(De(9,7,d.estado)),s(3),y(d.razon),s(),m("ngIf",d.reviewEsp)}}function Ti(n,r){if(n&1){let d=C();i(0,"div")(1,"button",15),h("click",function(){x(d);let o=f();return v(o.crearPdf())}),t(2,"Descargar PDF"),e(),u(3,wi,4,1,"div",16),i(4,"table",17)(5,"tr")(6,"th"),t(7,"Horario"),e(),i(8,"th"),t(9,"Doctor"),e(),i(10,"th"),t(11,"Especialidad"),e(),i(12,"th"),t(13,"Estado"),e(),i(14,"th"),t(15,"Motivo"),e()(),u(16,Fi,13,9,"tr",18),e()()}if(n&2){let d=f();m("@slideInFromBottom",void 0),s(3),m("ngIf",d.miRol==="Administrador"),s(13),m("ngForOf",d.turnos)}}function Ai(n,r){if(n&1){let d=C();i(0,"app-m-turno",24),h("closeModal",function(){x(d);let o=f();return v(o.verReviewHandler(null))}),e()}if(n&2){let d=f();m("data",d.turnoSeleccionado)("estado",d.estado)}}var lt=(()=>{let r=class r{constructor(a,o,l){this.otroService=a,this.turnoService=o,this.clinicaFire=l,this.idTipo="idPac",this.pacientes=[],this.turnos=[],this.estado="cancelar",this.loading=!1,this.turnoSeleccionado=null,this.doctores=[],this.selectedDoctor="",this.filtro=""}ngOnInit(){this.otroService.getDocumentSnapshotDeUsuario().subscribe(a=>{this.miRol=a.data().rol,this.miRol==="Administrador"?this.clinicaFire.getPaciente().subscribe(o=>{this.pacientes=o}):(this.miUID=a.id,this.miRol==="Profesional"&&(this.idTipo="idEsp"))})}handlePatientClick(a){a&&a.id&&(this.doctores=[],this.miUID=a.id,this.obtenerTurnos("idPac",a.id))}obtenerTurnos(a,o){this.turnoService.getTurnoPorid(a,o).subscribe(l=>{this.turnos=l})}pacienteFiltrar(){this.filtro?(console.log(this.filtro),this.turnos=this.turnos.filter(a=>this.matchFilter(a,this.filtro.toLowerCase()))):(console.log("error",this.filtro),this.obtenerTurnos(this.idTipo,this.miUID))}matchFilter(a,o){let l=o.toLowerCase();return a.especialista&&a.especialista.nombre.toLowerCase().includes(l)||a.especialista&&a.especialista.apellido.toLowerCase().includes(l)}cancelarTurnoHandler(a){this.estado="cancelar",this.turnoSeleccionado=a}verReviewHandler(a){this.estado="resena",this.turnoSeleccionado=a}calificarAtencionHandler(a){this.estado="calificar",this.turnoSeleccionado=a}completarEncuestaHandler(a){this.estado="encuesta",this.turnoSeleccionado=a}rechazarTurnoHandler(a){this.estado="rechazado",this.turnoSeleccionado=a}aceptarTurnoHandler(a){a.id&&(this.loading=!0,a.estado="aceptado",this.turnoService.actualizar(a.id,a).then(()=>{this.loading=!1}).catch(o=>{console.log(o)}))}finalizarTurnoHandler(a){this.estado="finalizado",this.turnoSeleccionado=a}crearHistorialClinica(a){this.estado="historial",this.turnoSeleccionado=a}crearPdf(){return D(this,null,function*(){let a=[];a.push(["Especialidad","Doctor","Historial","Fecha","Hora"]),this.turnos.forEach(l=>{let p=[l.especialidad,this.miRol==="Paciente"||this.miRol==="Administrador"?`${l.especialista.nombre} ${l.especialista.apellido}`:"",l.historial?`Altura: ${l.historial.altura} - Peso: ${l.historial.peso} - Temperatura: ${l.historial.temperatura} 
 Presion: ${l.historial.presion} - Clave: ${l.historial.clave1} - Valor: ${l.historial.valor1}`:"Sin Historial",l.fecha,l.hora];a.push(p)});let o={content:[{layout:"noBorders",table:{widths:["*","auto","*"],body:[[{image:yield this.getBase64ImageFromURL("../../../assets/icon-clinica.png"),width:60,alignment:"left"},{text:"Cl\xEDnica Online",style:"subheader",alignment:"center"},{text:`${new Date().toLocaleDateString()}`,alignment:"right"}]]}},{text:`
`},{style:"tableExample",table:{body:a}}]}})}getBase64ImageFromURL(a){return new Promise((o,l)=>{var p=new Image;p.setAttribute("crossOrigin","anonymous"),p.onload=()=>{var b=document.createElement("canvas");b.width=p.width,b.height=p.height;var I=b.getContext("2d");I.drawImage(p,0,0);var F=b.toDataURL("image/png");o(F)},p.onerror=b=>{l(b)},p.src=a})}};r.\u0275fac=function(o){return new(o||r)(E(Qe),E(We),E(R))},r.\u0275cmp=S({type:r,selectors:[["app-seccion-paciente"]],standalone:!0,features:[w],decls:8,vars:3,consts:[["placeholder",""],[1,"container","marketing"],[1,"row"],[1,"col-4"],["class","col-lg-6",4,"ngFor","ngForOf"],[1,"col-8"],[4,"ngIf"],[3,"data","estado","closeModal",4,"ngIf"],[1,"col-lg-6"],[1,"button-img",3,"click"],["class","bd-placeholder-img rounded-circle","width","140","height","140","alt","Paciente Image",3,"src",4,"ngIf","ngIfElse"],["width","140","height","140","alt","Paciente Image",1,"bd-placeholder-img","rounded-circle",3,"src"],["width","140","height","140","xmlns","http://www.w3.org/2000/svg","role","img","aria-label","Placeholder: 140x140","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","rounded-circle"],["width","100%","height","100%","fill","#777"],["x","50%","y","50%","fill","#777","dy",".3em"],["type","button",1,"btn","btn-primary",2,"margin-bottom","15px",3,"click"],["class","mb-4",4,"ngIf"],[1,"appointments-table"],[4,"ngFor","ngForOf"],[1,"mb-4"],[1,"mb-2"],["appEjercicioC","",1,"form-control","w-50",3,"ngModelChange","ngModel"],[1,"tdMotivo"],[1,"btn","btn-info",3,"click"],[3,"closeModal","data","estado"]],template:function(o,l){o&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",2),u(4,yi,8,4,"div",4),e()(),i(5,"div",5),u(6,Ti,17,3,"div",6),e()(),u(7,Ai,1,2,"app-m-turno",7),e()),o&2&&(s(4),m("ngForOf",l.pacientes),s(2),m("ngIf",l.turnos.length>0),s(),m("ngIf",l.turnoSeleccionado&&l.estado=="resena"))},dependencies:[O,k,ue,Re,q,j,U,me,ze],styles:[".button-img[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff}.appointments-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}.appointments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .appointments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}.appointments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#f2f2f2}.appointments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}.appointment-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}"],data:{animation:[se("slideIn",[ee("void",W({transform:"translateY(-100%)",opacity:0})),te(":enter",[Z("500ms ease-in-out",W({transform:"translateY(0)",opacity:1}))])]),se("slideInFromBottom",[ee("void",W({transform:"translateY(100%)",opacity:0})),te(":enter",[Z("500ms ease-in-out",W({transform:"translateY(0)",opacity:1}))])])]}});let n=r;return n})();var Sa=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=Ce({type:r}),r.\u0275inj=be({imports:[Le,$e,q,me,ge,at,ot,rt,ue,Xe,Ke,lt,tt]});let n=r;return n})();export{Un as a,ot as b,at as c,Ki as d,rt as e,lt as f,Sa as g};
