import{G as kt,J as tt,K as Nt,M as Rt,N as Se,P as D,Q,R as V,S as P,T as jt,V as ie,W as Ie,X as ne,Y as W,i as Pt,j as Ot}from"./chunk-2YF2VIIO.js";import{Cb as wt,D as vt,Db as l,Eb as x,Fb as b,Gb as J,Hb as U,I as yt,Ib as G,Jb as B,Kb as L,Lb as F,Nb as Je,Oa as fe,Ob as Qe,Pb as Dt,Q as Ct,Sa as c,T as Me,Ta as h,Tb as St,U as N,V as I,W as Ee,Y as K,Ya as ge,Yb as It,_ as R,_b as Tt,a as k,ac as et,b as X,cb as w,da as j,e as pe,ea as T,fa as we,ga as M,ha as bt,hb as _,jb as d,kb as xt,kc as Ft,lb as Ye,lc as z,mc as A,na as De,nb as a,nc as At,oa as m,ob as s,pa as f,pb as C,qb as Vt,ra as he,rb as Mt,s as _t,sb as y,ub as g,va as me,vb as u,wa as H,wb as Et,x as Y,xb as Ke}from"./chunk-JRU3JP26.js";var Zt=(()=>{let e=class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(r){return new(r||e)(h(ge),h(me))},e.\u0275dir=M({type:e});let i=e;return i})(),Re=(()=>{let e=class e extends Zt{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=he(e)))(o||e)}})(),e.\u0275dir=M({type:e,features:[w]});let i=e;return i})(),ae=new K("");var bi={provide:ae,useExisting:N(()=>le),multi:!0};function xi(){let i=et()?et().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Vi=new K(""),le=(()=>{let e=class e extends Zt{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!xi())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(r){return new(r||e)(h(ge),h(me),h(Vi,8))},e.\u0275dir=M({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&g("input",function(v){return o._handleInput(v.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(v){return o._compositionEnd(v.target.value)})},features:[L([bi]),w]});let i=e;return i})();function q(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Xt(i){return i!=null&&typeof i.length=="number"}var je=new K(""),He=new K(""),Mi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,S=class{static min(e){return Ei(e)}static max(e){return wi(e)}static required(e){return Di(e)}static requiredTrue(e){return Si(e)}static email(e){return Ii(e)}static minLength(e){return Ti(e)}static maxLength(e){return Fi(e)}static pattern(e){return Ai(e)}static nullValidator(e){return Yt(e)}static compose(e){return ii(e)}static composeAsync(e){return ni(e)}};function Ei(i){return e=>{if(q(e.value)||q(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<i?{min:{min:i,actual:e.value}}:null}}function wi(i){return e=>{if(q(e.value)||q(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>i?{max:{max:i,actual:e.value}}:null}}function Di(i){return q(i.value)?{required:!0}:null}function Si(i){return i.value===!0?null:{required:!0}}function Ii(i){return q(i.value)||Mi.test(i.value)?null:{email:!0}}function Ti(i){return e=>q(e.value)||!Xt(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function Fi(i){return e=>Xt(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function Ai(i){if(!i)return Yt;let e,n;return typeof i=="string"?(n="",i.charAt(0)!=="^"&&(n+="^"),n+=i,i.charAt(i.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=i.toString(),e=i),t=>{if(q(t.value))return null;let r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Yt(i){return null}function Kt(i){return i!=null}function Jt(i){return St(i)?_t(i):i}function Qt(i){let e={};return i.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function ei(i,e){return e.map(n=>n(i))}function Pi(i){return!i.validate}function ti(i){return i.map(e=>Pi(e)?e:n=>e.validate(n))}function ii(i){if(!i)return null;let e=i.filter(Kt);return e.length==0?null:function(n){return Qt(ei(n,e))}}function ot(i){return i!=null?ii(ti(i)):null}function ni(i){if(!i)return null;let e=i.filter(Kt);return e.length==0?null:function(n){let t=ei(n,e).map(Jt);return vt(t).pipe(Y(Qt))}}function st(i){return i!=null?ni(ti(i)):null}function Ht(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function ri(i){return i._rawValidators}function oi(i){return i._rawAsyncValidators}function it(i){return i?Array.isArray(i)?i:[i]:[]}function Fe(i,e){return Array.isArray(i)?i.includes(e):i===e}function Ut(i,e){let n=it(e);return it(i).forEach(r=>{Fe(n,r)||n.push(r)}),n}function Gt(i,e){return it(e).filter(n=>!Fe(i,n))}var Ae=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ot(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=st(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},$=class extends Ae{get formDirective(){return null}get path(){return null}},ee=class extends Ae{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pe=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Oi={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Br=X(k({},Oi),{"[class.ng-submitted]":"isSubmitted"}),Ue=(()=>{let e=class e extends Pe{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(h(ee,2))},e.\u0275dir=M({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ye("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[w]});let i=e;return i})(),Ge=(()=>{let e=class e extends Pe{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(h($,10))},e.\u0275dir=M({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ye("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[w]});let i=e;return i})();var _e="VALID",Te="INVALID",re="PENDING",ve="DISABLED";function at(i){return(Be(i)?i.validators:i)||null}function ki(i){return Array.isArray(i)?ot(i):i||null}function lt(i,e){return(Be(e)?e.asyncValidators:i)||null}function Ni(i){return Array.isArray(i)?st(i):i||null}function Be(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function si(i,e,n){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new Me(1e3,"");if(!t[n])throw new Me(1001,"")}function ai(i,e,n){i._forEachChild((t,r)=>{if(n[r]===void 0)throw new Me(1002,"")})}var oe=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_e}get invalid(){return this.status===Te}get pending(){return this.status==re}get disabled(){return this.status===ve}get enabled(){return this.status!==ve}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ut(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ut(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Gt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Gt(e,this._rawAsyncValidators))}hasValidator(e){return Fe(this._rawValidators,e)}hasAsyncValidator(e){return Fe(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=re,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ve,this.errors=null,this._forEachChild(t=>{t.disable(X(k({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(k({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_e,this._forEachChild(t=>{t.enable(X(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(k({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_e||this.status===re)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ve:_e}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=re,this._hasOwnPendingAsyncValidator=!0;let n=Jt(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((t,r)=>t&&t._find(r),this)}getError(e,n){let t=n?this.get(n):this;return t&&t.errors?t.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new H,this.statusChanges=new H}_calculateStatus(){return this._allControlsDisabled()?ve:this.errors?Te:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(re)?re:this._anyControlsHaveStatus(Te)?Te:_e}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Be(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ki(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ni(this._rawAsyncValidators)}},se=class extends oe{constructor(e,n,t){super(at(n),lt(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,t={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ai(this,!0,e),Object.keys(e).forEach(t=>{si(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(t=>{let r=this.controls[t];r&&r.patchValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((t,r)=>{t.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,t)=>(e[t]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,t)=>t._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let t=this.controls[n];t&&e(t,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,t]of Object.entries(this.controls))if(this.contains(n)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,t,r)=>((t.enabled||this.disabled)&&(n[r]=t.value),n))}_reduceChildren(e,n){let t=e;return this._forEachChild((r,o)=>{t=n(t,r,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var nt=class extends se{};var be=new K("CallSetDisabledState",{providedIn:"root",factory:()=>Le}),Le="always";function li(i,e){return[...e.path,i]}function Oe(i,e,n=Le){ct(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),ji(i,e),Ui(i,e),Hi(i,e),Ri(i,e)}function Bt(i,e,n=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Ne(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function ke(i,e){i.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ri(i,e){if(e.valueAccessor.setDisabledState){let n=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(n),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(n)})}}function ct(i,e){let n=ri(i);e.validator!==null?i.setValidators(Ht(n,e.validator)):typeof n=="function"&&i.setValidators([n]);let t=oi(i);e.asyncValidator!==null?i.setAsyncValidators(Ht(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let r=()=>i.updateValueAndValidity();ke(e._rawValidators,r),ke(e._rawAsyncValidators,r)}function Ne(i,e){let n=!1;if(i!==null){if(e.validator!==null){let r=ri(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(p=>p!==e.validator);o.length!==r.length&&(n=!0,i.setValidators(o))}}if(e.asyncValidator!==null){let r=oi(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(p=>p!==e.asyncValidator);o.length!==r.length&&(n=!0,i.setAsyncValidators(o))}}}let t=()=>{};return ke(e._rawValidators,t),ke(e._rawAsyncValidators,t),n}function ji(i,e){e.valueAccessor.registerOnChange(n=>{i._pendingValue=n,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ci(i,e)})}function Hi(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ci(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function ci(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Ui(i,e){let n=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};i.registerOnChange(n),e._registerOnDestroy(()=>{i._unregisterOnChange(n)})}function di(i,e){i==null,ct(i,e)}function Gi(i,e){return Ne(i,e)}function ui(i,e){if(!i.hasOwnProperty("model"))return!1;let n=i.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Bi(i){return Object.getPrototypeOf(i.constructor)===Re}function pi(i,e){i._syncPendingControls(),e.forEach(n=>{let t=n.control;t.updateOn==="submit"&&t._pendingChange&&(n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function hi(i,e){if(!e)return null;Array.isArray(e);let n,t,r;return e.forEach(o=>{o.constructor===le?n=o:Bi(o)?t=o:r=o}),r||t||n||null}function Li(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}var $i={provide:$,useExisting:N(()=>dt)},ye=Promise.resolve(),dt=(()=>{let e=class e extends ${constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new H,this.form=new se({},ot(t),st(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ye.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Oe(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ye.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ye.then(()=>{let r=this._findContainer(t.path),o=new se({});di(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ye.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ye.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,pi(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(r){return new(r||e)(h(je,10),h(He,10),h(be,8))},e.\u0275dir=M({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&g("submit",function(v){return o.onSubmit(v)})("reset",function(){return o.onReset()})},inputs:{options:[j.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[L([$i]),w]});let i=e;return i})();function Lt(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function $t(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Ce=class extends oe{constructor(e=null,n,t){super(at(n),lt(t,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Be(n)&&(n.nonNullable||n.initialValueIsDefault)&&($t(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$t(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var zi=i=>i instanceof Ce;var Wi={provide:ee,useExisting:N(()=>xe)},zt=Promise.resolve(),xe=(()=>{let e=class e extends ee{constructor(t,r,o,p,v,E){super(),this._changeDetectorRef=v,this.callSetDisabledState=E,this.control=new Ce,this._registered=!1,this.name="",this.update=new H,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=hi(this,p)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ui(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Oe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){zt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&Tt(r);zt.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?li(t,this._parent):[t]}};e.\u0275fac=function(r){return new(r||e)(h($,9),h(je,10),h(He,10),h(ae,10),h(It,8),h(be,8))},e.\u0275dir=M({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[j.None,"disabled","isDisabled"],model:[j.None,"ngModel","model"],options:[j.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[L([Wi]),w,De]});let i=e;return i})(),$e=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=M({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})(),qi={provide:ae,useExisting:N(()=>ut),multi:!0},ut=(()=>{let e=class e extends Re{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=he(e)))(o||e)}})(),e.\u0275dir=M({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&g("input",function(v){return o.onChange(v.target.value)})("blur",function(){return o.onTouched()})},features:[L([qi]),w]});let i=e;return i})();var mi=new K("");var Zi={provide:$,useExisting:N(()=>Ve)},Ve=(()=>{let e=class e extends ${constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new H,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ne(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Oe(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Bt(t.control||null,t,!1),Li(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,pi(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(Bt(r||null,t),zi(o)&&(Oe(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);di(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Gi(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ct(this.form,this),this._oldForm&&Ne(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(h(je,10),h(He,10),h(be,8))},e.\u0275dir=M({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&g("submit",function(v){return o.onSubmit(v)})("reset",function(){return o.onReset()})},inputs:{form:[j.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[L([Zi]),w,De]});let i=e;return i})();var Xi={provide:ee,useExisting:N(()=>pt)},pt=(()=>{let e=class e extends ee{set isDisabled(t){}constructor(t,r,o,p,v){super(),this._ngModelWarningConfig=v,this._added=!1,this.name=null,this.update=new H,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=hi(this,p)}ngOnChanges(t){this._added||this._setUpControl(),ui(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return li(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(h($,13),h(je,10),h(He,10),h(ae,10),h(mi,8))},e.\u0275dir=M({type:e,selectors:[["","formControlName",""]],inputs:{name:[j.None,"formControlName","name"],isDisabled:[j.None,"disabled","isDisabled"],model:[j.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[L([Xi]),w,De]});let i=e;return i})(),Yi={provide:ae,useExisting:N(()=>gi),multi:!0};function fi(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Ki(i){return i.split(":")[0]}var gi=(()=>{let e=class e extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),o=fi(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Ki(t);return this._optionMap.has(r)?this._optionMap.get(r):t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=he(e)))(o||e)}})(),e.\u0275dir=M({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&g("change",function(v){return o.onChange(v.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[L([Yi]),w]});let i=e;return i})(),$r=(()=>{let e=class e{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(fi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(h(me),h(ge),h(gi,9))},e.\u0275dir=M({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})(),Ji={provide:ae,useExisting:N(()=>_i),multi:!0};function Wt(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Qi(i){return i.split(":")[0]}var _i=(()=>{let e=class e extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(p=>this._getOptionId(p));r=(p,v)=>{p._setSelected(o.indexOf(v.toString())>-1)}}else r=(o,p)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],p=r.selectedOptions;if(p!==void 0){let v=p;for(let E=0;E<v.length;E++){let te=v[E],Xe=this._getOptionValue(te.value);o.push(Xe)}}else{let v=r.options;for(let E=0;E<v.length;E++){let te=v[E];if(te.selected){let Xe=this._getOptionValue(te.value);o.push(Xe)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Qi(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=he(e)))(o||e)}})(),e.\u0275dir=M({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&g("change",function(v){return o.onChange(v.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[L([Ji]),w]});let i=e;return i})(),zr=(()=>{let e=class e{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Wt(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Wt(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(h(me),h(ge),h(_i,9))},e.\u0275dir=M({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})();var vi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=Ee({});let i=e;return i})(),rt=class extends oe{constructor(e,n,t){super(at(n),lt(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,t={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,n={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ai(this,!1,e),e.forEach((t,r)=>{si(this,!1,r),this.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((t,r)=>{this.at(r)&&this.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((t,r)=>{t.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,t)=>t._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,t)=>{e(n,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function qt(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var ze=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let o=this._reduceControls(t),p={};return qt(r)?p=r:r!==null&&(p.validators=r.validator,p.asyncValidators=r.asyncValidator),new se(o,p)}record(t,r=null){let o=this._reduceControls(t);return new nt(o,r)}control(t,r,o){let p={};return this.useNonNullable?(qt(r)?p=r:(p.validators=r,p.asyncValidators=o),new Ce(t,X(k({},p),{nonNullable:!0}))):new Ce(t,r,o)}array(t,r,o){let p=t.map(v=>this._createControl(v));return new rt(p,r,o)}_reduceControls(t){let r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){if(t instanceof Ce)return t;if(t instanceof oe)return t;if(Array.isArray(t)){let r=t[0],o=t.length>1?t[1]:null,p=t.length>2?t[2]:null;return this.control(r,o,p)}else return this.control(t)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var We=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:be,useValue:t.callSetDisabledState??Le}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=Ee({imports:[vi]});let i=e;return i})(),qe=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:mi,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:be,useValue:t.callSetDisabledState??Le}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=Ee({imports:[vi]});let i=e;return i})();var ce=(()=>{let e=class e{constructor(t){this.auth=t}loginUser(t,r){return Rt(this.auth,t,r)}logout(){return this.auth.signOut()}registerUser(t,r){return Nt(this.auth,t,r)}getUserLogged(){return this.auth.currentUser}getUserEmail(){let t=this.auth.currentUser;return t?t.email:null}getAuthState(){return tt(this.auth)}getUserID(){return tt(this.auth).pipe(yt(1),Y(t=>{if(t)return t.uid;throw Error("No hay usuario.")}))}};e.\u0275fac=function(r){return new(r||e)(R(kt))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var de=(()=>{let e=class e{constructor(t){this.fire=t}getUsuarios(){let t=V(this.fire,"usuarios");return D(t,{idField:"id"})}addObraSocial(t){let r=V(this.fire,"obraSocial");return Q(r,t)}getObraSocial(){let t=V(this.fire,"obraSocial");return D(t,{idField:"id"})}addPaciente(t,r){let o=V(this.fire,"usuarios"),p=P(o,r);return Ie(p,t)}getPaciente(){let t=V(this.fire,"usuarios"),r=ie(t,W("rol","==","Paciente"));return D(r,{idField:"id"})}updatePaciente(t,r){let o=P(this.fire,"usuarios",t);return ne(o,{historiaClinica:r})}addProfesional(t,r){let o=V(this.fire,"usuarios"),p=P(o,r);return Ie(p,t)}updateProfesional(t,r){let o=P(this.fire,"usuarios",t);return ne(o,{estado:r})}updateProfesionalAgenda(t,r){let o=P(this.fire,"usuarios",t);return ne(o,{agenda:r})}getProfesionales(){let t=V(this.fire,"usuarios"),r=ie(t,W("rol","==","Profesional"),W("estado","==","Pendiente"));return D(r,{idField:"id"})}getProFesionalPorEspecialidad(t){let r=V(this.fire,"usuarios"),o=ie(r,W("rol","==","Profesional"),W("especialidades","array-contains",t));return D(o,{idField:"id"})}addProfesionalEspecialidad(t,r){let o=V(this.fire,`profesional/${t}/especialidades`);return Q(o,r)}getHorariosDisponibles(t){let r=V(this.fire,`usuarios/${t}/horariosDisponibles`);return D(r,{idField:"id"})}addEspecialidadProfecional(t,r){let o=V(this.fire,`usuarios/${r}/especialidades`);return Q(o,{especialidadRef:t})}addEspecialidad(t){let r=V(this.fire,"especialidades");return Q(r,t)}getEspecialidad(){let t=V(this.fire,"especialidades");return D(t,{idField:"id"})}getEspecialidadProfesional(t){let r=V(this.fire,`usuarios/${t}/especialidades`);return D(r,{idField:"id"})}addAdministrador(t,r){return pe(this,null,function*(){let o=V(this.fire,"usuarios"),p=P(o,r);return yield Ie(p,t)})}getUserByID(t){return pe(this,null,function*(){let r=V(this.fire,"usuarios"),o=P(r,t);return yield jt(o)})}};e.\u0275fac=function(r){return new(r||e)(R(Se))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var tn=[[["router-outlet"]],[["","id","footer"]]],nn=["router-outlet","#footer"];function rn(i,e){if(i&1&&(a(0,"li")(1,"a",20),l(2),s()()),i&2){let n=e.$implicit;c(),d("routerLink",n.link),c(),x(n.title)}}function on(i,e){if(i&1&&(Vt(0),a(1,"li",16)(2,"a",17),l(3),s(),a(4,"ul",18),_(5,rn,3,2,"li",19),s()(),Mt()),i&2){let n=u().$implicit;c(3),b(" ",n.title," "),c(2),d("ngForOf",n.children)}}function sn(i,e){if(i&1&&(a(0,"li",11)(1,"a",21),l(2),s()()),i&2){let n=u().$implicit;c(),d("routerLink",n.link),c(),x(n.title)}}function an(i,e){if(i&1&&(a(0,"li",11),_(1,on,6,2,"ng-container",15)(2,sn,3,2,"ng-template",null,0,Dt),s()),i&2){let n=e.$implicit,t=wt(3);c(),d("ngIf",n.children)("ngIfElse",t)}}var to=(()=>{let e=class e{constructor(t,r){this.afAuth=t,this.router=r,this.items=[],this.email="",this.afAuth.getAuthState().subscribe(o=>{o&&o.email&&(this.email=o.email)})}ngOnInit(){}logout(){this.afAuth.logout().then(()=>{this.router.navigate(["/auth"])})}};e.\u0275fac=function(r){return new(r||e)(h(ce),h(Pt))},e.\u0275cmp=T({type:e,selectors:[["app-layout"]],inputs:{items:"items"},standalone:!0,features:[F],ngContentSelectors:nn,decls:23,vars:2,consts:[["normalLink",""],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark","p-2"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","../../../assets/icono-clinica.png","alt","Bootstrap","width","30","height","30"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo02","aria-controls","navbarTogglerDemo02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarTogglerDemo02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngFor","ngForOf"],[1,"navbar-nav"],[1,"nav-item"],["aria-disabled","true",1,"nav-link","disabled",2,"color","white"],["src","../../../assets/usuario2.jpg","alt","Icono","width","30","height","30",2,"margin-right","5px"],["type","button",1,"btn","btn-outline-light",3,"click"],[4,"ngIf","ngIfElse"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"dropdown-item",3,"routerLink"],["routerLinkActive","active","aria-current","page",1,"nav-link","active",3,"routerLink"]],template:function(r,o){r&1&&(Et(tn),a(0,"div")(1,"nav",1)(2,"div",2)(3,"a",3),C(4,"img",4),l(5," Clinica Online "),s(),a(6,"button",5),C(7,"span",6),s(),a(8,"div",7)(9,"ul",8),_(10,an,4,2,"li",9),s(),a(11,"ul",10)(12,"li",11)(13,"div",12),C(14,"img",13),l(15),s()(),a(16,"li",11)(17,"button",14),g("click",function(){return o.logout()}),l(18," Cerrar sesi\xF3n "),s()()()()()(),a(19,"section"),Ke(20),s(),a(21,"footer"),Ke(22,1),s()()),r&2&&(c(10),d("ngForOf",o.items),c(5),b("",o.email," "))},dependencies:[A,z,Ot]});let i=e;return i})();var ue=(()=>{let e=class e{constructor(t,r){this.authService=t,this.usuarioService=r}getDocumentSnapshotDeUsuario(){return this.authService.getUserID().pipe(Ct(t=>this.usuarioService.getUserByID(t)))}getDataDeUsuario(){return this.getDocumentSnapshotDeUsuario().pipe(Y(t=>t.data()))}getRolActual(){return this.getDataDeUsuario().pipe(Y(t=>t.rol))}};e.\u0275fac=function(r){return new(r||e)(R(ce),R(de))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Z=(()=>{let e=class e{constructor(t){this.fire=t,this.turnos=V(this.fire,"turnos")}add(t){return Q(this.turnos,t)}actualizar(t,r){let o=P(this.fire,"turnos",t);return ne(o,r)}getTurnos(){return D(this.turnos,{idField:"id"})}getTurnoPorid(t,r){let o=ie(this.turnos,W(t,"==",r));return D(o,{idField:"id"})}};e.\u0275fac=function(r){return new(r||e)(R(Se))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function ln(i,e){if(i&1&&(a(0,"div",30),C(1,"img",8),s()),i&2){let n=u(2);c(),d("src",n.usuario.imagen2,fe)("alt",n.usuario.name)}}function cn(i,e){if(i&1&&(a(0,"p",18)(1,"strong"),l(2,"Obra Social:"),s(),l(3),s()),i&2){let n=u(2);c(3),b(" ",n.usuario.obraSocial," ")}}function dn(i,e){if(i&1&&(a(0,"li",18),l(1),s()),i&2){let n=e.$implicit;c(),b(" ",n," ")}}function un(i,e){if(i&1&&(a(0,"div")(1,"span",18)(2,"strong"),l(3,"Especialidades:"),s()(),a(4,"ul"),_(5,dn,2,1,"li",31),s()()),i&2){let n=u(2);c(5),d("ngForOf",n.usuario.especialidades)}}function pn(i,e){if(i&1){let n=y();a(0,"button",32),g("click",function(){m(n);let r=u(2);return f(r.verMisAtencionesHandler())}),l(1,"Ver mis atenciones"),s()}}function hn(i,e){if(i&1){let n=y();a(0,"button",33),g("click",function(){m(n);let r=u(2);return f(r.verMisHorariosHandler())}),l(1,"Ver mis horarios"),s()}}function mn(i,e){i&1&&(a(0,"th"),l(1," Paciente "),s())}function fn(i,e){i&1&&(a(0,"th"),l(1," Doctor "),s())}function gn(i,e){if(i&1&&(a(0,"td"),l(1),s()),i&2){let n=u().$implicit;c(),J("",n.paciente.nombre," ",n.paciente.apellido,"")}}function _n(i,e){if(i&1&&(a(0,"td"),l(1),s()),i&2){let n=u().$implicit;c(),J("",n.especialista.nombre," ",n.especialista.apellido,"")}}function vn(i,e){if(i&1&&(a(0,"td")(1,"span")(2,"strong"),l(3,"Altura: "),s(),l(4),s(),a(5,"span")(6,"strong"),l(7,"Peso: "),s(),l(8),s(),a(9,"span")(10,"strong"),l(11,"Temperatura: "),s(),l(12),s(),a(13,"tr")(14,"span")(15,"strong"),l(16,"Presion: "),s(),l(17),s(),a(18,"span")(19,"strong"),l(20,"clave1: "),s(),l(21),s(),a(22,"span")(23,"strong"),l(24,"valor1: "),s(),l(25),s()()()),i&2){let n=u().$implicit;c(4),b("",n.historial.altura," - "),c(4),b("",n.historial.peso," - "),c(4),b("",n.historial.temperatura," "),c(5),b("",n.historial.presion," - "),c(4),b("",n.historial.clave1," - "),c(4),b("",n.historial.valor1," ")}}function yn(i,e){i&1&&(a(0,"td")(1,"p"),l(2,"Sin Historial"),s()())}function Cn(i,e){if(i&1&&(a(0,"tr")(1,"td"),l(2),s(),_(3,gn,2,2,"td",20)(4,_n,2,2,"td",20)(5,vn,26,6,"td",20)(6,yn,3,0,"td",20),a(7,"td"),l(8),s(),a(9,"td"),l(10),s()()),i&2){let n=e.$implicit,t=u(2);c(2),x(n.especialidad),c(),d("ngIf",t.miRol==="Profesional"||t.miRol==="Administrador"),c(),d("ngIf",t.miRol==="Paciente"||t.miRol==="Administrador"),c(),d("ngIf",n.historial),c(),d("ngIf",!n.historial),c(2),x(n.fecha),c(2),x(n.hora)}}function bn(i,e){if(i&1){let n=y();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),C(7,"img",8),s(),_(8,ln,2,2,"div",9),s(),a(9,"button",10),C(10,"span",11),a(11,"span",12),l(12,"Previous"),s()(),a(13,"button",13),C(14,"span",14),a(15,"span",12),l(16,"Next"),s()()()(),a(17,"div",15)(18,"div",16)(19,"h4",17)(20,"strong"),l(21,"Nombre:"),s(),l(22),s(),a(23,"p",18)(24,"strong"),l(25,"Edad:"),s(),l(26),s(),a(27,"p",18)(28,"strong"),l(29,"DNI:"),s(),l(30),s(),_(31,cn,4,1,"p",19)(32,un,6,1,"div",20),a(33,"div",21),_(34,pn,2,0,"button",22)(35,hn,2,0,"button",23),s(),C(36,"div",24),s()()()(),a(37,"h2",25),l(38,"Historia Cl\xEDnica"),s(),a(39,"button",26),g("click",function(){m(n);let r=u();return f(r.crearPdf())}),l(40,"Descargar PDF"),s(),a(41,"table",27)(42,"thead")(43,"tr")(44,"th",28),l(45,"Especialidad"),s(),_(46,mn,2,0,"th",20)(47,fn,2,0,"th",20),a(48,"th",28),l(49,"Historial"),s(),a(50,"th",28),l(51,"Fecha"),s(),a(52,"th",28),l(53,"Hora"),s()()(),a(54,"tbody"),_(55,Cn,11,7,"tr",29),s()(),C(56,"br")(57,"br"),s()}if(i&2){let n=u();c(7),d("src",n.usuario.imagen,fe)("alt",n.usuario.name),c(),d("ngIf",n.usuario.imagen2),c(14),b("",n.usuario.nombre+" "+n.usuario.apellido," "),c(4),b(" ",n.usuario.edad,""),c(4),b(" ",n.usuario.dni,""),c(),d("ngIf",n.usuario.rol=="Paciente"),c(),d("ngIf",n.usuario.rol=="Profesional"),c(2),d("ngIf",n.usuario.rol=="Paciente"),c(),d("ngIf",n.usuario.rol=="Profesional"),c(11),d("ngIf",n.miRol==="Profesional"||n.miRol==="Administrador"),c(),d("ngIf",n.miRol==="Paciente"||n.miRol==="Administrador"),c(8),d("ngForOf",n.turnos)}}var so=(()=>{let e=class e{constructor(t,r){this.otroService=t,this.turnoService=r,this.verHistoriaClinica=!1,this.verMisAtenciones=!1,this.turnos=[],this.miUID="",this.idTipo="",this.miRol=""}ngOnInit(){this.otroService.getDataDeUsuario().subscribe(t=>{this.usuario=t}),this.otroService.getDocumentSnapshotDeUsuario().subscribe(t=>{this.miRol=t.data().rol,this.miRol==="Administrador"?this.turnoService.getTurnos().subscribe(r=>this.turnos=r):(this.miUID=t.id,this.miRol==="Paciente"?this.idTipo="idPac":this.miRol==="Profesional"&&(this.idTipo="idEsp"),this.obtenerTurnos(this.idTipo,this.miUID))})}obtenerTurnos(t,r){this.turnoService.getTurnoPorid(t,r).subscribe(o=>this.turnos=o)}verMisAtencionesHandler(){}verMisHorariosHandler(){console.log("horarios")}verMiHistoriaClinicaHandler(){}crearPdf(){return pe(this,null,function*(){let t=[];t.push(["Especialidad","Doctor","Historial","Fecha","Hora"]),this.turnos.forEach(o=>{let p=[o.especialidad,this.miRol==="Paciente"||this.miRol==="Administrador"?`${o.especialista.nombre} ${o.especialista.apellido}`:"",o.historial?`Altura: ${o.historial.altura} - Peso: ${o.historial.peso} - Temperatura: ${o.historial.temperatura} 
 Presion: ${o.historial.presion} - Clave: ${o.historial.clave1} - Valor: ${o.historial.valor1}`:"Sin Historial",o.fecha,o.hora];t.push(p)});let r={content:[{layout:"noBorders",table:{widths:["*","auto","*"],body:[[{image:yield this.getBase64ImageFromURL("../../../assets/icono-clinica.png"),width:60,alignment:"left"},{text:"Cl\xEDnica Online",style:"subheader",alignment:"center"},{text:`${new Date().toLocaleDateString()}`,alignment:"right"}]]}},{text:`
`},{style:"tableExample",table:{body:t}}]}})}getBase64ImageFromURL(t){return new Promise((r,o)=>{var p=new Image;p.setAttribute("crossOrigin","anonymous"),p.onload=()=>{var v=document.createElement("canvas");v.width=p.width,v.height=p.height;var E=v.getContext("2d");E.drawImage(p,0,0);var te=v.toDataURL("image/png");r(te)},p.onerror=v=>{o(v)},p.src=t})}};e.\u0275fac=function(r){return new(r||e)(h(ue),h(Z))},e.\u0275cmp=T({type:e,selectors:[["app-mi-perfil"]],standalone:!0,features:[F],decls:1,vars:1,consts:[["class","mt-2","style","width: 70%; margin: auto",4,"ngIf"],[1,"mt-2",2,"width","70%","margin","auto"],[1,"card","mb-3"],[1,"row","g-0"],[1,"col-md-4"],["id","carouselExampleFade",1,"carousel","slide","carousel-fade"],[1,"carousel-inner"],[1,"carousel-item","active"],[1,"d-block","w-100",2,"height","300px","object-fit","cover",3,"src","alt"],["class","carousel-item",4,"ngIf"],["type","button","data-bs-target","#carouselExampleFade","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleFade","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","card-text",4,"ngIf"],[4,"ngIf"],[1,"d-grid","gap-2"],["class","btn btn-info",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"d-flex"],[1,"text-center",2,"color","white"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"carousel-item"],["class","card-text",4,"ngFor","ngForOf"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(r,o){r&1&&_(0,bn,58,13,"div",0),r&2&&d("ngIf",o.usuario)},dependencies:[A,z]});let i=e;return i})();function xn(i,e){i&1&&(a(0,"h4",11),l(1," \xBFEsta seguro que deseas cancelar?"),s())}function Vn(i,e){i&1&&(a(0,"h4",11),l(1,"Ver rese\xF1a"),s())}function Mn(i,e){i&1&&(a(0,"h4",11),l(1,"Calificar Atenci\xF3n"),s())}function En(i,e){i&1&&(a(0,"h4",11),l(1,"Encuesta"),s())}function wn(i,e){i&1&&(a(0,"h4",11),l(1,"Rechazar Turno"),s())}function Dn(i,e){i&1&&(a(0,"h4",11),l(1,"Finalizar Turno"),s())}function Sn(i,e){i&1&&(a(0,"h4",11),l(1,"Historia Cl\xEDnica"),s())}function In(i,e){if(i&1){let n=y();a(0,"div")(1,"p"),l(2,"Es necesario que proporcione un comentario explicando por qu\xE9 se cancela el turno."),s(),a(3,"div",12)(4,"label",13),l(5,"Mensaje:"),s(),a(6,"textarea",14),B("ngModelChange",function(r){m(n);let o=u();return G(o.mensaje,r)||(o.mensaje=r),f(r)}),s()()()}if(i&2){let n=u();c(6),U("ngModel",n.mensaje)}}function Tn(i,e){if(i&1&&(a(0,"div")(1,"p"),l(2),s()()),i&2){let n=u();c(2),x(n.data==null?null:n.data.reviewEsp)}}function Fn(i,e){if(i&1){let n=y();a(0,"div")(1,"p"),l(2,"Dejar un comentario de como fue la atenci\xF3n del Especialista."),s(),a(3,"div",12)(4,"label",13),l(5,"Message:"),s(),a(6,"textarea",14),B("ngModelChange",function(r){m(n);let o=u();return G(o.mensaje,r)||(o.mensaje=r),f(r)}),s()()()}if(i&2){let n=u();c(6),U("ngModel",n.mensaje)}}function An(i,e){if(i&1){let n=y();a(0,"div")(1,"p"),l(2,"\xBFPor qu\xE9 raz\xF3n nos recomendar\xEDas?"),s(),a(3,"div",12)(4,"label",13),l(5,"Message:"),s(),a(6,"textarea",14),B("ngModelChange",function(r){m(n);let o=u();return G(o.mensaje,r)||(o.mensaje=r),f(r)}),s()()()}if(i&2){let n=u();c(6),U("ngModel",n.mensaje)}}function Pn(i,e){if(i&1){let n=y();a(0,"div")(1,"p"),l(2,"Para rechazar el turno debe dejar un comentario del porque se rechaza el mismo."),s(),a(3,"div",12)(4,"label",13),l(5,"Message:"),s(),a(6,"textarea",14),B("ngModelChange",function(r){m(n);let o=u();return G(o.mensaje,r)||(o.mensaje=r),f(r)}),s()()()}if(i&2){let n=u();c(6),U("ngModel",n.mensaje)}}function On(i,e){if(i&1){let n=y();a(0,"div")(1,"p"),l(2,"Para finalizar el turno debe dejar un comentario de la consulta y diagn\xF3stico realizado."),s(),a(3,"div",12)(4,"label",13),l(5,"Message:"),s(),a(6,"textarea",14),B("ngModelChange",function(r){m(n);let o=u();return G(o.mensaje,r)||(o.mensaje=r),f(r)}),s()()()}if(i&2){let n=u();c(6),U("ngModel",n.mensaje)}}function kn(i,e){i&1&&(a(0,"span",33),l(1," La "),a(2,"strong"),l(3,"Altura"),s(),l(4," es requerida"),s())}function Nn(i,e){i&1&&(a(0,"span",33),l(1," EL "),a(2,"strong"),l(3,"peso"),s(),l(4," es requerido"),s())}function Rn(i,e){i&1&&(a(0,"span",33),l(1," La "),a(2,"strong"),l(3,"Temperatura"),s(),l(4," es requerida"),s())}function jn(i,e){i&1&&(a(0,"span",33),l(1," La "),a(2,"strong"),l(3,"presi\xF3n"),s(),l(4," es requerida "),s())}function Hn(i,e){if(i&1){let n=y();a(0,"div")(1,"form",15),g("ngSubmit",function(){m(n);let r=u();return f(r.addHistorialClinica())}),a(2,"div",16)(3,"div",17)(4,"label",18),l(5,"Altura"),s(),C(6,"input",19),_(7,kn,5,0,"span",20),s(),a(8,"div",17)(9,"label",21),l(10,"Peso"),s(),C(11,"input",22),_(12,Nn,5,0,"span",20),s(),a(13,"div",17)(14,"label",23),l(15,"Temperatura"),s(),C(16,"input",24),_(17,Rn,5,0,"span",20),s(),a(18,"div",17)(19,"label",25),l(20,"Presion"),s(),C(21,"input",26),_(22,jn,5,0,"span",20),s()(),C(23,"hr"),a(24,"h4"),l(25,"Dato Din\xE1mico"),s(),a(26,"div",16)(27,"div",17)(28,"label",27),l(29,"Clave"),s(),C(30,"input",28),s(),a(31,"div",17)(32,"label",29),l(33,"Valor"),s(),C(34,"input",30),s()(),C(35,"hr",31),a(36,"button",32),l(37," Agregar "),s()()()}if(i&2){let n,t,r,o,p=u();c(),d("formGroup",p.historial),c(6),d("ngIf",((n=p.historial.get("altura"))==null?null:n.hasError("required"))&&((n=p.historial.get("altura"))==null?null:n.touched)),c(5),d("ngIf",((t=p.historial.get("peso"))==null?null:t.hasError("required"))&&((t=p.historial.get("peso"))==null?null:t.touched)),c(5),d("ngIf",((r=p.historial.get("temperatura"))==null?null:r.hasError("required"))&&((r=p.historial.get("temperatura"))==null?null:r.touched)),c(5),d("ngIf",((o=p.historial.get("presion"))==null?null:o.hasError("required"))&&((o=p.historial.get("presion"))==null?null:o.touched)),c(14),d("disabled",!p.historial.valid)}}function Un(i,e){if(i&1){let n=y();a(0,"button",34),g("click",function(){m(n);let r=u();return f(r.onCloseModal())}),l(1," Cancelar "),s()}}function Gn(i,e){if(i&1){let n=y();a(0,"button",35),g("click",function(){m(n);let r=u();return f(r.cancelarTurno())}),l(1," Comfirmar "),s()}if(i&2){let n=u();d("disabled",!n.isMensajePresente())}}var yi=(()=>{let e=class e{constructor(t,r){this.turnoServices=t,this.fb=r,this.mensaje="",this.closeModal=new H,this.historial=this.fb.group({altura:["",[S.required,this.validarNumber]],peso:["",[S.required,this.validarNumber]],temperatura:["",[S.required,this.validarNumber]],presion:["",[S.required,this.validarNumber]],clave1:[""],valor1:[""]})}ngOnInit(){this.estado==="historial"&&this.data&&this.data.historial&&(console.log("entro"),this.historial.patchValue(this.data.historial))}get datosDinamicosArray(){return this.historial.get("datosDinamicos")}agregarDatoDinamico(){this.datosDinamicosArray.push(this.fb.group({clave:["",S.required],valor:["",S.required]}))}eliminarDatoDinamico(t){this.datosDinamicosArray.removeAt(t)}validarNumber(t){let r=t.value;return/^\d+$/.test(r)?null:{soloNumeros:!0}}onCloseModal(){this.closeModal.emit()}cancelarTurno(){this.data&&this.data.id&&(this.estado==="cancelar"||this.estado==="rechazado"?(this.data.razon=this.mensaje,this.data.estado="cancelado"):this.estado==="calificar"||this.estado==="encuesta"?this.data.reviewPac=this.mensaje:this.estado==="finalizado"&&(this.data.reviewEsp=this.mensaje,this.data.estado="finalizado"),this.turnoServices.actualizar(this.data.id,this.data).then(()=>{this.closeModal.emit()}).catch(t=>{console.log(t)}))}isMensajePresente(){return this.mensaje.trim().length>0}addHistorialClinica(){this.data&&this.data.id&&(this.data.historial=this.historial.value,this.turnoServices.actualizar(this.data.id,this.data).then(()=>{this.closeModal.emit()}).catch(t=>{console.log(t)}))}};e.\u0275fac=function(r){return new(r||e)(h(Z),h(ze))},e.\u0275cmp=T({type:e,selectors:[["app-m-turno"]],inputs:{data:"data",estado:"estado"},outputs:{closeModal:"closeModal"},standalone:!0,features:[F],decls:24,vars:16,consts:[["tabindex","-1",1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-secondary","data-bs-dismiss","modal",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],[1,"modal-title"],[1,"mb-3"],["for","message-text",1,"col-form-label"],["id","message-text","name","mensajeCancelacion",1,"form-control",3,"ngModelChange","ngModel"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-6"],["for","altura",1,"form-label"],["type","number","id","altura","formControlName","altura",1,"form-control"],["class","text-danger",4,"ngIf"],["for","peso",1,"form-label"],["type","number","id","peso","formControlName","peso",1,"form-control"],["for","temperatura",1,"form-label"],["id","temperatura","type","number","formControlName","temperatura",1,"form-control"],["for","presion",1,"form-label"],["type","number","formControlName","presion",1,"form-control"],["for","clave1",1,"form-label"],["id","clave1","type","text","formControlName","clave1",1,"form-control"],["for","valor1",1,"form-label"],["type","valor1","formControlName","valor1",1,"form-control"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-lg",2,"background-color","#0d689d","color","white",3,"disabled"],[1,"text-danger"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,xn,2,0,"h4",4)(5,Vn,2,0,"h4",4)(6,Mn,2,0,"h4",4)(7,En,2,0,"h4",4)(8,wn,2,0,"h4",4)(9,Dn,2,0,"h4",4)(10,Sn,2,0,"h4",4),a(11,"button",5),g("click",function(){return o.onCloseModal()}),s()(),a(12,"div",6)(13,"form"),_(14,In,7,1,"div",7)(15,Tn,3,1,"div",7)(16,Fn,7,1,"div",7)(17,An,7,1,"div",7)(18,Pn,7,1,"div",7)(19,On,7,1,"div",7)(20,Hn,38,6,"div",7),s()(),a(21,"div",8),_(22,Un,2,0,"button",9)(23,Gn,2,1,"button",10),s()()()()),r&2&&(c(4),d("ngIf",o.estado==="cancelar"),c(),d("ngIf",o.estado==="resena"),c(),d("ngIf",o.estado==="calificar"),c(),d("ngIf",o.estado==="encuesta"),c(),d("ngIf",o.estado==="rechazado"),c(),d("ngIf",o.estado==="finalizado"),c(),d("ngIf",o.estado==="historial"),c(4),d("ngIf",o.estado==="cancelar"),c(),d("ngIf",o.estado==="resena"),c(),d("ngIf",o.estado==="calificar"),c(),d("ngIf",o.estado==="encuesta"),c(),d("ngIf",o.estado==="rechazado"),c(),d("ngIf",o.estado==="finalizado"),c(),d("ngIf",o.estado==="historial"),c(2),d("ngIf",o.estado!="historial"),c(),d("ngIf",o.estado=="cancelar"||o.estado=="calificar"||o.estado=="encuesta"||o.estado=="rechazado"||o.estado=="finalizado"))},dependencies:[A,We,$e,le,ut,Ue,Ge,xe,dt,qe,Ve,pt],styles:[".modal[_ngcontent-%COMP%]{display:block;background-color:#00000080;color:#fff}.modal-content[_ngcontent-%COMP%]{background-color:#3e4451}.modal-content[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#3e4451;color:#fff}.circular-container[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:#727272}img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]});let i=e;return i})();var Ci=(()=>{let e=class e{transform(t){return"Dr/a. "+t.apellido+", "+t.nombre}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=bt({name:"doctor",type:e,pure:!0,standalone:!0});let i=e;return i})();function Bn(i,e){i&1&&(a(0,"h2",7),l(1,"Mis turnos"),s())}function Ln(i,e){i&1&&(a(0,"h2",7),l(1,"Turnos"),s())}function $n(i,e){if(i&1){let n=y();a(0,"div",8)(1,"label",9),l(2," Buscar por especialidad o especialista "),s(),a(3,"input",10),B("ngModelChange",function(r){m(n);let o=u();return G(o.filtro,r)||(o.filtro=r),f(r)}),g("ngModelChange",function(){m(n);let r=u();return f(r.pacienteFiltrar())}),s()()}if(i&2){let n=u();c(3),U("ngModel",n.filtro)}}function zn(i,e){if(i&1){let n=y();a(0,"div",8)(1,"label",9),l(2," Buscar por especialidad o paciente "),s(),a(3,"input",11),B("ngModelChange",function(r){m(n);let o=u();return G(o.filtro,r)||(o.filtro=r),f(r)}),g("ngModelChange",function(){m(n);let r=u();return f(r.especialistaFiltrar())}),s()()}if(i&2){let n=u();c(3),U("ngModel",n.filtro)}}function Wn(i,e){i&1&&(a(0,"th"),l(1,"Especialista"),s())}function qn(i,e){i&1&&(a(0,"th"),l(1,"Paciente"),s())}function Zn(i,e){if(i&1&&(a(0,"td"),l(1),Je(2,"doctor"),s()),i&2){let n=u().$implicit;c(),x(Qe(2,1,n.especialista))}}function Xn(i,e){if(i&1&&(a(0,"td"),l(1),s()),i&2){let n=u().$implicit;c(),J("",n.paciente.nombre," ",n.paciente.apellido,"")}}function Yn(i,e){if(i&1){let n=y();a(0,"td")(1,"button",13),g("click",function(){m(n);let r=u().$implicit,o=u();return f(o.cancelarTurnoHandler(r))}),l(2,"Cancelar"),s()()}}function Kn(i,e){if(i&1){let n=y();a(0,"td")(1,"button",14),g("click",function(){m(n);let r=u().$implicit,o=u();return f(o.verReviewHandler(r))}),l(2,"Ver rese\xF1a"),s()()}}function Jn(i,e){if(i&1){let n=y();a(0,"td")(1,"button",15),g("click",function(){m(n);let r=u().$implicit,o=u();return f(o.completarEncuestaHandler(r))}),l(2,"Completar encuesta"),s()()}}function Qn(i,e){if(i&1){let n=y();a(0,"td")(1,"button",16),g("click",function(){m(n);let r=u().$implicit,o=u();return f(o.calificarAtencionHandler(r))}),l(2,"Calificar atenci\xF3n"),s()()}}function er(i,e){if(i&1){let n=y();a(0,"td")(1,"button",17),g("click",function(){m(n);let r=u().$implicit,o=u();return f(o.rechazarTurnoHandler(r))}),l(2,"Rechazar"),s()()}}function tr(i,e){if(i&1){let n=y();a(0,"td")(1,"button",18),g("click",function(){m(n);let r=u().$implicit,o=u();return f(o.aceptarTurnoHandler(r))}),l(2,"Aceptar"),s()()}}function ir(i,e){if(i&1){let n=y();a(0,"td")(1,"button",19),g("click",function(){m(n);let r=u().$implicit,o=u();return f(o.finalizarTurnoHandler(r))}),l(2,"Finalizar"),s()()}}function nr(i,e){if(i&1){let n=y();a(0,"td")(1,"button",19),g("click",function(){m(n);let r=u().$implicit,o=u();return f(o.crearHistorialClinica(r))}),l(2),s()()}if(i&2){let n=u().$implicit;c(2),b(" ",n.historial?"Ver Historial":"Historial clinica"," ")}}function rr(i,e){if(i&1&&(a(0,"tr")(1,"td"),l(2),s(),_(3,Zn,3,3,"td",4)(4,Xn,2,2,"td",4),a(5,"td"),l(6),s(),a(7,"td"),l(8),Je(9,"uppercase"),s(),a(10,"td",12),l(11),s(),_(12,Yn,3,0,"td",4)(13,Kn,3,0,"td",4)(14,Jn,3,0,"td",4)(15,Qn,3,0,"td",4)(16,er,3,0,"td",4)(17,tr,3,0,"td",4)(18,ir,3,0,"td",4)(19,nr,3,1,"td",4),s()),i&2){let n=e.$implicit,t=u();c(2),x(n.fecha+" - "+n.hora),c(),d("ngIf",t.miRol==="Paciente"||t.miRol==="Administrador"),c(),d("ngIf",t.miRol==="Profesional"||t.miRol==="Administrador"),c(2),x(n.especialidad),c(2),x(Qe(9,14,n.estado)),c(3),x(n.razon),c(),d("ngIf",n.estado==="reservado"),c(),d("ngIf",t.miRol==="Paciente"&&n.reviewEsp||t.miRol==="Profesional"&&n.reviewPac),c(),d("ngIf",n.estado==="realizado"&&t.miRol==="Paciente"),c(),d("ngIf",n.estado==="realizado"&&t.miRol==="Paciente"&&!n.reviewPac),c(),d("ngIf",n.estado==="reservado"&&t.miRol==="Profesional"),c(),d("ngIf",n.estado==="reservado"&&t.miRol==="Profesional"),c(),d("ngIf",n.estado==="aceptado"&&t.miRol==="Profesional"),c(),d("ngIf",n.estado==="finalizado"&&t.miRol==="Profesional")}}function or(i,e){if(i&1){let n=y();a(0,"app-m-turno",20),g("closeModal",function(){m(n);let r=u();return f(r.cancelarTurnoHandler(null))}),s()}if(i&2){let n=u();d("data",n.turnoSeleccionado)("estado",n.estado)}}function sr(i,e){if(i&1){let n=y();a(0,"app-m-turno",20),g("closeModal",function(){m(n);let r=u();return f(r.verReviewHandler(null))}),s()}if(i&2){let n=u();d("data",n.turnoSeleccionado)("estado",n.estado)}}function ar(i,e){if(i&1){let n=y();a(0,"app-m-turno",20),g("closeModal",function(){m(n);let r=u();return f(r.calificarAtencionHandler(null))}),s()}if(i&2){let n=u();d("data",n.turnoSeleccionado)("estado",n.estado)}}function lr(i,e){if(i&1){let n=y();a(0,"app-m-turno",20),g("closeModal",function(){m(n);let r=u();return f(r.completarEncuestaHandler(null))}),s()}if(i&2){let n=u();d("data",n.turnoSeleccionado)("estado",n.estado)}}function cr(i,e){if(i&1){let n=y();a(0,"app-m-turno",20),g("closeModal",function(){m(n);let r=u();return f(r.rechazarTurnoHandler(null))}),s()}if(i&2){let n=u();d("data",n.turnoSeleccionado)("estado",n.estado)}}function dr(i,e){if(i&1){let n=y();a(0,"app-m-turno",20),g("closeModal",function(){m(n);let r=u();return f(r.finalizarTurnoHandler(null))}),s()}if(i&2){let n=u();d("data",n.turnoSeleccionado)("estado",n.estado)}}function ur(i,e){if(i&1){let n=y();a(0,"app-m-turno",20),g("closeModal",function(){m(n);let r=u();return f(r.finalizarTurnoHandler(null))}),s()}if(i&2){let n=u();d("data",n.turnoSeleccionado)("estado",n.estado)}}var xo=(()=>{let e=class e{constructor(t,r,o){this.turnoService=t,this.otroService=r,this.usuarioService=o,this.turnosOriginal=[],this.turnos=[],this.turnoSeleccionado=null,this.estado="cancelar",this.filtro="",this.miRol="",this.miUID="",this.idTipo="",this.loading=!1}ngOnInit(){this.otroService.getDocumentSnapshotDeUsuario().subscribe(t=>{this.miRol=t.data().rol,this.miRol==="Administrador"?this.turnoService.getTurnos().subscribe(r=>this.turnos=r):(this.miUID=t.id,this.miRol==="Paciente"?this.idTipo="idPac":this.miRol==="Profesional"&&(this.idTipo="idEsp"),this.obtenerTurnos(this.idTipo,this.miUID))})}pacienteFiltrar(){this.filtro?this.turnos=this.turnos.filter(t=>this.matchFilter(t,this.filtro.toLowerCase())):this.obtenerTurnos(this.idTipo,this.miUID)}matchFilter(t,r){let o=r.toLowerCase(),p=()=>t.historial?Object.values(t.historial).some(E=>String(E).toLowerCase().includes(o)):!1;return t.especialidad.toLowerCase().includes(o)||t.especialista.nombre.toLowerCase().includes(o)||t.especialista.apellido.toLowerCase().includes(o)||p()}obtenerTurnos(t,r){this.turnoService.getTurnoPorid(t,r).subscribe(o=>this.turnos=o)}especialistaFiltrar(){this.filtro?this.turnos=this.turnos.filter(t=>this.matchFilterEspecialista(t,this.filtro.toLowerCase())):this.obtenerTurnos(this.idTipo,this.miUID)}matchFilterEspecialista(t,r){let o=r.toLowerCase(),p=()=>t.historial?Object.values(t.historial).some(E=>String(E).toLowerCase().includes(o)):!1;return t.especialidad.toLowerCase().includes(o)||t.paciente.nombre.toLowerCase().includes(o)||t.paciente.apellido.toLowerCase().includes(o)||p()}cancelarTurnoHandler(t){this.estado="cancelar",this.turnoSeleccionado=t}verReviewHandler(t){this.estado="resena",this.turnoSeleccionado=t}calificarAtencionHandler(t){this.estado="calificar",this.turnoSeleccionado=t}completarEncuestaHandler(t){this.estado="encuesta",this.turnoSeleccionado=t}rechazarTurnoHandler(t){this.estado="rechazado",this.turnoSeleccionado=t}aceptarTurnoHandler(t){t.id&&(this.loading=!0,t.estado="aceptado",this.turnoService.actualizar(t.id,t).then(()=>{this.loading=!1}).catch(r=>{console.log(r)}))}finalizarTurnoHandler(t){this.estado="finalizado",this.turnoSeleccionado=t}crearHistorialClinica(t){this.estado="historial",this.turnoSeleccionado=t}};e.\u0275fac=function(r){return new(r||e)(h(Z),h(ue),h(de))},e.\u0275cmp=T({type:e,selectors:[["app-mis-turnos"]],standalone:!0,features:[F],decls:28,vars:14,consts:[[1,"card","mt-5",2,"width","95%","margin","auto","background-color","rgba(0, 0, 0, 0.5)","color","white"],[1,"card-body"],["class","card-title text-center",4,"ngIf"],["class","mb-4",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"data","estado","closeModal",4,"ngIf"],[1,"card-title","text-center"],[1,"mb-4"],[1,"mb-2"],["appEjercicioC","",1,"form-control","w-50",3,"ngModelChange","ngModel"],["appEjercicioC","",1,"form-control","w-25",3,"ngModelChange","ngModel"],[1,"tdMotivo"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-outline-light",3,"click"],[1,"btn","btn-outline-info",3,"click"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-light",3,"click"],[3,"closeModal","data","estado"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"div",1),_(2,Bn,2,0,"h2",2)(3,Ln,2,0,"h2",2),C(4,"hr"),a(5,"div"),_(6,$n,4,1,"div",3)(7,zn,4,1,"div",3),a(8,"table")(9,"tr")(10,"th"),l(11,"Horario"),s(),_(12,Wn,2,0,"th",4)(13,qn,2,0,"th",4),a(14,"th"),l(15,"Especialidad"),s(),a(16,"th"),l(17,"Estado"),s(),a(18,"th"),l(19,"Motivo"),s()(),_(20,rr,20,16,"tr",5),s()()(),_(21,or,1,2,"app-m-turno",6)(22,sr,1,2,"app-m-turno",6)(23,ar,1,2,"app-m-turno",6)(24,lr,1,2,"app-m-turno",6)(25,cr,1,2,"app-m-turno",6)(26,dr,1,2,"app-m-turno",6)(27,ur,1,2,"app-m-turno",6),s()),r&2&&(c(2),d("ngIf",o.miRol==="Paciente"||o.miRol==="Profesional"),c(),d("ngIf",o.miRol==="Administrador"),c(3),d("ngIf",o.miRol==="Paciente"||o.miRol==="Administrador"),c(),d("ngIf",o.miRol==="Profesional"),c(5),d("ngIf",o.miRol==="Paciente"||o.miRol==="Administrador"),c(),d("ngIf",o.miRol==="Profesional"||o.miRol==="Administrador"),c(7),d("ngForOf",o.turnos),c(),d("ngIf",o.turnoSeleccionado&&o.estado=="cancelar"),c(),d("ngIf",o.turnoSeleccionado&&o.estado=="resena"),c(),d("ngIf",o.turnoSeleccionado&&o.estado=="calificar"),c(),d("ngIf",o.turnoSeleccionado&&o.estado=="encuesta"),c(),d("ngIf",o.turnoSeleccionado&&o.estado=="rechazado"),c(),d("ngIf",o.turnoSeleccionado&&o.estado=="finalizado"),c(),d("ngIf",o.turnoSeleccionado&&o.estado=="historial"))},dependencies:[yi,A,z,We,le,Ue,xe,At,Ci],styles:["tr[_ngcontent-%COMP%]{height:3.5rem}tr[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem 2rem .5rem 0}.tdMotivo[_ngcontent-%COMP%]{max-width:20rem}td[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{min-width:10rem}"]});let i=e;return i})();function pr(i,e){if(i&1){let n=y();a(0,"div",10)(1,"button",11),g("click",function(){let r=m(n).$implicit,o=u(2);return f(o.onEspecialidadSeleccionadaHandler(r.nombre))})("click",function(){m(n);let r=u(2);return f(r.next())}),C(2,"div",12),s()()}if(i&2){let n=e.$implicit,t=u(2);c(2),xt("background-image",t.getBackgroundImage(n.img))}}function hr(i,e){if(i&1&&(a(0,"fieldset")(1,"h2",8),l(2,"Especialidades"),s(),a(3,"div",1),_(4,pr,3,2,"div",9),s()()),i&2){let n=u();c(4),d("ngForOf",n.especialidades)}}function mr(i,e){if(i&1){let n=y();a(0,"div")(1,"div",17),g("click",function(){let r=m(n).$implicit,o=u(2);return f(o.selectProfesional(r))})("click",function(){m(n);let r=u(2);return f(r.next())}),C(2,"img",18),a(3,"p",19)(4,"strong",20),l(5),s(),a(6,"strong"),l(7,"Email: "),s(),l(8),a(9,"strong"),l(10,"Otras Especialidades: "),s(),l(11),s()()()}if(i&2){let n=e.$implicit;c(2),d("src",n.imagen,fe),c(3),x(n.nombre+" "+n.apellido),c(3),b(" ",n.mail," - "),c(3),b("",n.especialidades," ")}}function fr(i,e){if(i&1){let n=y();a(0,"fieldset")(1,"h2",8),l(2,"Elegir Especialista"),s(),a(3,"div",13)(4,"h6",14),l(5),s(),_(6,mr,12,4,"div",15),s(),a(7,"input",16),g("click",function(){m(n);let r=u();return f(r.previous())}),s()()}if(i&2){let n=u();c(5),x(n.especialidadDetails.value.especialidad),c(),d("ngForOf",n.profesionales)}}function gr(i,e){if(i&1){let n=y();a(0,"div")(1,"div",22),g("click",function(){let r=m(n).$implicit,o=u().$implicit,p=u(2);return f(p.onselectReserva(o.fecha,r))})("click",function(){m(n);let r=u(3);return f(r.next())}),a(2,"div",23)(3,"span"),l(4),s()()()()}if(i&2){let n=e.$implicit,t=u().$implicit;c(4),J(" ",t.fecha," ",n,"")}}function _r(i,e){if(i&1&&(a(0,"div",10),_(1,gr,5,2,"div",15),s()),i&2){let n=e.$implicit;c(),d("ngForOf",n.horarios)}}function vr(i,e){if(i&1){let n=y();a(0,"fieldset")(1,"h2",8),l(2,"Eleg\xED una fecha para el turno"),s(),a(3,"div",21)(4,"div",1),_(5,_r,2,1,"div",9),s()(),a(6,"input",16),g("click",function(){m(n);let r=u();return f(r.previous())}),s()()}if(i&2){let n=u();c(5),d("ngForOf",n.reservasProfesional)}}function yr(i,e){if(i&1&&(a(0,"div",27)(1,"h5",23),l(2),s(),a(3,"div",28)(4,"p",29)(5,"strong"),l(6,"Nombre del profesional:"),s(),l(7),C(8,"br"),a(9,"strong"),l(10,"Fecha:"),s(),l(11),C(12,"br"),a(13,"strong"),l(14,"Hora:"),s(),l(15),C(16,"br"),a(17,"strong"),l(18,"Especialidad:"),s(),l(19),C(20,"br"),s()()()),i&2){let n=u(2);c(2),x(n.turnoSolicitado.especialidad),c(5),x((n.selectedProfesional==null?null:n.selectedProfesional.nombre)+" "+(n.selectedProfesional==null?null:n.selectedProfesional.apellido)),c(4),b(" ",n.turnoSolicitado.fecha,""),c(4),b(" ",n.turnoSolicitado.hora,""),c(4),x(n.turnoSolicitado.especialidad)}}function Cr(i,e){i&1&&C(0,"span",30)}function br(i,e){i&1&&(a(0,"span"),l(1,"Alta"),s())}function xr(i,e){if(i&1){let n=y();a(0,"fieldset")(1,"h2",8),l(2,"Confirmar Turno Solicitado"),s(),_(3,yr,21,5,"div",24),a(4,"input",16),g("click",function(){m(n);let r=u();return f(r.previous())}),s(),a(5,"button",25),g("click",function(){m(n);let r=u();return f(r.submit())}),_(6,Cr,1,0,"span",26)(7,br,2,0,"span",6),s()()}if(i&2){let n=u();c(3),d("ngIf",n.turnoSolicitado),c(2),d("disabled",n.loading),c(),d("ngIf",n.loading),c(),d("ngIf",!n.loading)}}var wo=(()=>{let e=class e{constructor(t,r,o,p,v){this.formBuilder=t,this.clinicaFire=r,this.authFire=o,this.turnosFire=p,this.otroService=v,this.idPac="",this.idEsp="",this.loading=!1,this.especialidades=[],this.selectedEspecialidad="",this.img="../../assets/icono-clinica.png",this.profesionales=[],this.selectedProfesional=null,this.reservasProfesional=[],this.selectedReserva=null,this.fecha="",this.selecHora="",this.especialida_step=!1,this.profesional_step=!1,this.fecha_step=!1,this.hora_step=!1,this.confirmar_step=!1,this.miRol="",this.step=1}ngOnInit(){this.otroService.getDocumentSnapshotDeUsuario().subscribe(t=>{this.miRol=t.data().rol,this.miRol=="Administrador"||this.miRol=="Paciente"&&this.clinicaFire.getUserByID(t.id).then(r=>{this.idPac=t.id,this.selectedPaciente=r.data()})}),this.clinicaFire.getEspecialidad().subscribe(t=>{this.especialidades=t}),this.especialidadDetails=this.formBuilder.group({especialidad:[null,S.required]})}selectProfesional(t){this.selectedProfesional=t,this.selectedProfesional&&this.selectedProfesional.id&&(this.idEsp=this.selectedProfesional.id,this.clinicaFire.getHorariosDisponibles(this.selectedProfesional.id).subscribe(r=>{this.reservasProfesional=r}))}next(){if(this.step==1){let t=this.especialidadDetails.value.especialidad;this.onEspecialidadSeleccionadaHandler(t),this.especialida_step=!0,this.step++}else this.step==2?(console.log("selecciono especialista"),this.profesional_step=!0,this.step++):this.step==3&&(console.log("en fecha"),this.fecha_step=!0,this.onRellenarTurno(),this.step++)}previous(){this.step--,this.step==1&&(this.especialida_step=!1),this.step==2&&(this.profesional_step=!1),this.step==3&&(this.fecha_step=!1)}submit(){this.loading=!0,this.turnosFire.add(this.turnoSolicitado).then(()=>{this.loading=!1,console.log("se agrego correctamente")}).catch(t=>{this.loading=!1,console.log(t)})}onRellenarTurno(){this.selectedProfesional!==null&&(this.turnoSolicitado={idEsp:this.idEsp,idPac:this.idPac,especialista:this.selectedProfesional,paciente:this.selectedPaciente,fecha:this.fecha,hora:this.selecHora,especialidad:this.especialidadDetails.value.especialidad,estado:"reservado",reviewEsp:"",reviewPac:""})}onEspecialidadSeleccionadaHandler(t){this.especialidadDetails.get("especialidad")?.setValue(t),this.clinicaFire.getProFesionalPorEspecialidad(t).subscribe(r=>{this.profesionales=r})}onselectReserva(t,r){this.fecha=t,this.selecHora=r}onselectHora(t){this.selecHora=t}getBackgroundImage(t){return t&&t.trim()===""?'url("../../../assets/icono-clinica.png")':t?`url('${t}')`:'url("../../../assets/icono-clinica.png")'}};e.\u0275fac=function(r){return new(r||e)(h(ze),h(de),h(ce),h(Z),h(ue))},e.\u0275cmp=T({type:e,selectors:[["app-turno-solicitar"]],standalone:!0,features:[F],decls:21,vars:9,consts:[[1,"container","py-5"],[1,"row"],[1,"col-md-12","col-md-offset-2"],["id","msform",3,"formGroup"],["id","progressbar"],[3,"ngClass"],[4,"ngIf"],["id","msform"],[1,"fs-title"],["class","col-6 col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","mb-3"],["type","button",1,"especialidad-button",3,"click"],[1,"especialidad-image"],[1,"my-3","p-3","bg-body","rounded","shadow-sm"],[1,"border-bottom","pb-2","mb-0"],[4,"ngFor","ngForOf"],["type","button","name","previous","value","Anterior",1,"previous","action-button-previous",3,"click"],[1,"d-flex","text-muted","pt-3",2,"cursor","pointer",3,"click"],["width","42","height","42","aria-label","Profile Image",1,"bd-placeholder-img","flex-shrink-0","me-2","rounded",3,"src"],[1,"pb-3","mb-0","small","lh-sm","border-bottom","text-start"],[1,"d-block","text-gray-dark"],[1,"container"],[1,"card",3,"click"],[1,"card-header"],["class","card",4,"ngIf"],["type","button","name","submit",1,"submit","action-button",3,"click","disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"card-text"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,o){r&1&&(a(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3)(5,"ul",4)(6,"li",5),l(7,"Especialidades"),s(),a(8,"li",5),l(9,"Elegir Especialista"),s(),a(10,"li",5),l(11,"Eleg\xED una fecha para el turno"),s(),a(12,"li",5),l(13,"Confirmar Turno"),s()(),_(14,hr,5,1,"fieldset",6),s(),a(15,"form",7),_(16,fr,8,2,"fieldset",6),s(),a(17,"form",7),_(18,vr,7,1,"fieldset",6),s(),a(19,"form",7),_(20,xr,8,4,"fieldset",6),s()()()()()),r&2&&(c(4),d("formGroup",o.especialidadDetails),c(2),d("ngClass",o.step>=1?"active":"inactive"),c(2),d("ngClass",o.step>=2?"active":"inactive"),c(2),d("ngClass",o.step>=3?"active":"inactive"),c(2),d("ngClass",o.step==4?"active":"inactive"),c(2),d("ngIf",o.step==1),c(2),d("ngIf",o.step==2),c(2),d("ngIf",o.step==3),c(2),d("ngIf",o.step==4))},dependencies:[z,A,qe,$e,Ge,Ve,Ft],styles:['#msform[_ngcontent-%COMP%]{text-align:center;position:relative;margin-top:30px;color:#3f3e3e}#msform[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{background:#fff;border:0 none;border-radius:15px;box-shadow:0 0 15px 1px #0006;padding:20px 30px;box-sizing:border-box;width:80%;margin:0 10%;position:relative}#msform[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]:not(:first-of-type){display:none}#msform[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #msform[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:15px;border:1px solid #ccc;border-radius:0;margin-bottom:10px;width:100%;box-sizing:border-box;font-family:montserrat;color:#2c3e50;font-size:18px}#msform[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, #msform[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{-moz-box-shadow:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;border:1px solid #ee0979;outline-width:0;transition:All .5s ease-in;-webkit-transition:All .5s ease-in;-moz-transition:All .5s ease-in;-o-transition:All .5s ease-in}#msform[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:100px;background:#ee0979;font-weight:700;color:#fff;border:0 none;border-radius:25px;cursor:pointer;padding:10px 5px;margin:10px 5px}#msform[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover, #msform[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #fff,0 0 0 3px #ee0979}#msform[_ngcontent-%COMP%]   .action-button-previous[_ngcontent-%COMP%]{width:100px;background:#c5c5f1;font-weight:700;color:#fff;border:0 none;border-radius:25px;cursor:pointer;padding:10px 5px;margin:10px 5px}#msform[_ngcontent-%COMP%]   .action-button-previous[_ngcontent-%COMP%]:hover, #msform[_ngcontent-%COMP%]   .action-button-previous[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #fff,0 0 0 3px #c5c5f1}.fs-title[_ngcontent-%COMP%]{font-size:18px;text-transform:uppercase;color:#2c3e50;margin-bottom:10px;letter-spacing:2px;font-weight:700}.fs-subtitle[_ngcontent-%COMP%]{font-weight:400;font-size:13px;color:#666;margin-bottom:20px}#progressbar[_ngcontent-%COMP%]{margin-bottom:30px;overflow:hidden;counter-reset:step;padding:0;display:flex;justify-content:center}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;color:#fff;text-transform:uppercase;font-size:9px;width:18%;float:left;position:relative;letter-spacing:1px}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:counter(step);counter-increment:step;width:24px;height:24px;line-height:26px;display:block;font-size:12px;color:#333;background:#fff;border-radius:25px;margin:0 auto 10px}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";width:100%;height:2px;background:#fff;position:absolute;left:-50%;top:9px;z-index:-1}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{content:none}#progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before, #progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background:#ee0979;color:#fff}#progressbar[_ngcontent-%COMP%]   li.inactive[_ngcontent-%COMP%]:before{background:#deb887;color:#000}fieldset[_ngcontent-%COMP%]{-webkit-animation-duration:.25ms;-webkit-animation-name:_ngcontent-%COMP%_slidein;-moz-animation-duration:1s;-moz-animation-name:slidein;-o-animation-duration:1s;-o-animation-name:slidein;animation-duration:1s;animation-name:_ngcontent-%COMP%_slidein}@-webkit-keyframes _ngcontent-%COMP%_slidein{0%{margin-right:100%;width:300%}to{margin-right:0%;width:100%}}@-moz-keyframes slidein{0%{margin-left:100%;width:300%}to{margin-left:0%;width:100%}}@-o-keyframes slidein{0%{margin-left:100%;width:300%}to{margin-left:0%;width:100%}}@keyframes _ngcontent-%COMP%_slidein{0%{margin-left:100%;width:300%}to{margin-left:0%;width:100%}}.selected[_ngcontent-%COMP%]{background-color:#6490f6;color:#fff}.especialidad-button[_ngcontent-%COMP%]{width:100%;padding:0;border:none;background:none;cursor:pointer}.especialidad-image[_ngcontent-%COMP%]{width:100%;height:180px;background-size:cover;background-position:center;border-radius:8px;border:1px solid #ddd}.especialidad-button[_ngcontent-%COMP%]:focus{outline:none}.especialidad-button.selected[_ngcontent-%COMP%]   .especialidad-image[_ngcontent-%COMP%]{background-color:#00f}.especialidad-overlay[_ngcontent-%COMP%]{background:#6490f6}']});let i=e;return i})();export{le as a,S as b,Ue as c,Ge as d,xe as e,$e as f,Ve as g,pt as h,gi as i,$r as j,zr as k,ze as l,We as m,qe as n,ce as o,de as p,to as q,ue as r,Z as s,so as t,yi as u,xo as v,wo as w};
