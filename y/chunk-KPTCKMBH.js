import{a as J}from"./chunk-4WCMKDOP.js";import{a as Q,b as $,c as ee,g as L}from"./chunk-2QNKTWPP.js";import"./chunk-2UVYWUYY.js";import{a as W,b as K}from"./chunk-D3IMMDCS.js";import{A as P,B as y,g as R,i as C,l as x,m as q,n as w,o as D,p as N,s as z,u as O,v as V,z as G}from"./chunk-CVW3PDBT.js";import{c as H,d as X,f as T,g as Y,h as Z}from"./chunk-WXI33M2S.js";import{Db as a,Lb as v,Sa as d,Ta as p,V as B,W as S,e as A,ea as h,fa as k,hb as b,jb as u,mc as F,nb as i,ob as n,oc as M,pb as s,ub as g}from"./chunk-JRU3JP26.js";var ie=(()=>{let e=class e{constructor(l,o){this.route=l,this.router=o}acceder(){this.router.navigateByUrl("/auth/login")}registrar(){this.router.navigateByUrl("auth/registrar")}};e.\u0275fac=function(o){return new(o||e)(p(R),p(C))},e.\u0275cmp=h({type:e,selectors:[["app-bienvenido"]],standalone:!0,features:[v],decls:19,vars:0,consts:[[1,"contenedor"],[1,"cover-container","d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"mb-auto"],[1,"float-md-start","mb-0"],["src","../../../assets/icono-clinica.png","alt","Bootstrap","width","50","height","50"],[1,"d-flex","justify-content-center","align-items-center","vh-100"],[1,"w-50"],[1,"lead"],["routerLink","/auth/login",1,"btn","btn-lg","btn-primary","fw-bold","border-white",3,"click"],["routerLink","/auth/registrar",1,"btn","btn-lg","btn-secondary","fw-bold","border-white",3,"click"]],template:function(o,r){o&1&&(i(0,"div",0)(1,"div",1)(2,"header",2),s(3,"p"),i(4,"h3",3),s(5,"img",4),a(6," Cl\xEDnica Online "),n(),s(7,"p"),n(),i(8,"div",5)(9,"div",6)(10,"h1"),a(11,"Clinica Online"),n(),i(12,"p",7),a(13," FDQ "),n(),i(14,"p",7)(15,"a",8),g("click",function(){return r.acceder()}),a(16,"Ingresar"),n(),i(17,"a",9),g("click",function(){return r.registrar()}),a(18,"Registrar"),n()()()()()())},styles:['.contenedor[_ngcontent-%COMP%]{background:linear-gradient(#0009,#0009),url("./media/bienvenido-ZVAYSHPF.jpg");background-repeat:no-repeat;background-position:center;background-size:cover;height:100vh;text-align:center;color:#98ddf1;display:flex}a[_ngcontent-%COMP%]{margin-right:10px}p[_ngcontent-%COMP%]{text-align:center}']});let t=e;return t})();var ne=(()=>{let e=class e{constructor(){}codeError(l){switch(console.log(l),l){case"auth/email-already-in-use":return"El usuario ya existe";case"auth/weak-password":return"La contrase\xF1a es muy d\xE9bil";case"auth/invalid-email":return"El correo electr\xF3nico es inv\xE1lido";case"auth/wrong-password":return"Contrase\xF1a incorrecta";case"auth/user-not-found":return"El usuario no existe";default:return"Error desconocido"}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ae(t,e){t&1&&(i(0,"span",36),a(1," El "),i(2,"strong"),a(3,"correo electr\xF3nico"),n(),a(4," es requerido "),n())}function le(t,e){t&1&&(i(0,"span",36),a(1," El "),i(2,"strong"),a(3,"correo electr\xF3nico"),n(),a(4," es inv\xE1lido "),n())}function se(t,e){t&1&&(i(0,"span",36),a(1," La "),i(2,"strong"),a(3,"contrase\xF1a"),n(),a(4," es requerida "),n())}function ce(t,e){t&1&&(i(0,"span",36),a(1," La "),i(2,"strong"),a(3,"contrase\xF1a"),n(),a(4," debe de tener 6 caracteres "),n())}function me(t,e){t&1&&s(0,"span",37)}function de(t,e){t&1&&(i(0,"span"),a(1,"Iniciar sesi\xF3n"),n())}var I=(()=>{let e=class e{constructor(l,o,r,c,m,f){this.fb=l,this.authUser=o,this.router=r,this.toastr=c,this.fireError=m,this.clinicaFire=f,this.loading=!1,this.loginUsuario=this.fb.group({email:["",[w.required,w.email]],password:["",[w.required,w.minLength(6)]]})}login(){let l=this.loginUsuario.value.email,o=this.loginUsuario.value.password;console.log(l),console.log(o),this.loading=!0,this.authUser.loginUser(l,o).then(r=>A(this,null,function*(){console.log(r.user.uid);let m=(yield this.clinicaFire.getUserByID(r.user.uid)).data();if(!m)return;let f=m.rol;f=="profesional"&&this.vericargarStatus(m.estado),this.redirectoPage(f),this.loading=!1})).catch(r=>{this.loading=!1,r.message?this.toastr.error(r.message,"Error"):this.toastr.error(this.fireError.codeError(r.code),"Error")})}quickAccess(l,o){this.loginUsuario.setValue({email:l,password:o})}redirectoPage(l){switch(l){case"Administrador":this.router.navigate(["/admin"]);break;case"Paciente":this.router.navigate(["/paciente"]);break;case"Profesional":this.router.navigate(["/profesional"]);break}}vericargarStatus(l){if(l=="Pendiente")throw new Error("El usuario esta Pendiente. Se requiere Aprobaci\xF3n.");if(l=="Rechazado")throw new Error("El usuario fue rechazado. Lo siento!")}goBack(){this.router.navigate(["/auth"])}};e.\u0275fac=function(o){return new(o||e)(p(G),p(W),p(C),p(J),p(ne),p(K))},e.\u0275cmp=h({type:e,selectors:[["app-login"]],standalone:!0,features:[v],decls:51,vars:8,consts:[[1,"container-login","p-3","p-md-4","p-xl-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-xxl-11"],[1,"card","border-light-subtle","shadow-sm"],[1,"row","g-0"],[1,"col-12","col-md-6"],["loading","lazy","src","../../../../assets/clinica.jpg","alt","Welcome back you've been missed!",1,"img-fluid","rounded-start","w-100","h-100","object-fit-cover"],[1,"col-12","col-md-6","d-flex","align-items-center","justify-content-center"],[1,"col-12","col-lg-11","col-xl-10"],[1,"card-body","p-3","p-md-4","p-xl-5"],[1,"row"],[1,"col-12"],[1,"btn",3,"click"],["src","../../../../assets/flecha-izq.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"mb-5"],[1,"text-center","mb-4"],["href","#!"],["src","../../../../assets/icono-clinica.png","alt","BootstrapBrain Logo","width","50","height","50"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"row","gy-3","overflow-hidden"],[1,"form-floating","mb-3"],["type","email","name","email","id","email","placeholder","nombre@gmail.com","formControlName","email",1,"form-control"],["for","email",1,"form-label"],["class","text-danger",4,"ngIf"],["type","password","name","password","id","password","placeholder","Contrase\xF1a","formControlName","password",1,"form-control"],["for","password",1,"form-label"],[1,"form-check"],["type","checkbox","value","","name","remember_me","id","remember_me",1,"form-check-input"],["for","remember_me",1,"form-check-label","text-secondary"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[4,"ngIf"],[3,"buttonClick"],[1,"text-danger"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(o,r){if(o&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),s(7,"img",7),n(),i(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"button",13),g("click",function(){return r.goBack()}),s(14,"img",14),n()(),i(15,"div",12)(16,"div",15)(17,"div",16)(18,"a",17),s(19,"img",18),n(),i(20,"h4"),a(21,"Cl\xEDnica Online"),n()(),i(22,"h4",19),a(23,"\xA1Bienvenido!"),n()()()(),i(24,"form",20),g("ngSubmit",function(){return r.login()}),i(25,"div",21)(26,"div",12)(27,"div",22),s(28,"input",23),i(29,"label",24),a(30,"Correo electr\xF3nico"),n(),b(31,ae,5,0,"span",25)(32,le,5,0,"span",25),n()(),i(33,"div",12)(34,"div",22),s(35,"input",26),i(36,"label",27),a(37,"Contrase\xF1a"),n(),b(38,se,5,0,"span",25)(39,ce,5,0,"span",25),n()(),i(40,"div",12)(41,"div",28),s(42,"input",29),i(43,"label",30),a(44," Manterme conectado "),n()()(),i(45,"div",12)(46,"div",31)(47,"button",32),b(48,me,1,0,"span",33)(49,de,2,0,"span",34),n()()()()()()()()()()(),i(50,"app-favbutton",35),g("buttonClick",function(m){return r.quickAccess(m.email,m.password)}),n()()()()),o&2){let c,m,f,E;d(24),u("formGroup",r.loginUsuario),d(7),u("ngIf",((c=r.loginUsuario.get("email"))==null?null:c.hasError("required"))&&((c=r.loginUsuario.get("email"))==null?null:c.touched)),d(),u("ngIf",((m=r.loginUsuario.get("email"))==null?null:m.hasError("email"))&&((m=r.loginUsuario.get("email"))==null?null:m.touched)),d(6),u("ngIf",((f=r.loginUsuario.get("password"))==null?null:f.hasError("required"))&&((f=r.loginUsuario.get("password"))==null?null:f.touched)),d(),u("ngIf",((E=r.loginUsuario.get("password"))==null?null:E.hasError("minlength"))&&((E=r.loginUsuario.get("password"))==null?null:E.touched)),d(8),u("disabled",r.loginUsuario.invalid),d(),u("ngIf",r.loading),d(),u("ngIf",!r.loading)}},dependencies:[F,Q,y,z,q,D,N,O,V],styles:['.container-login[_ngcontent-%COMP%]{background:linear-gradient(#0009,#0009),url("./media/bienvenido-ZVAYSHPF.jpg");background-repeat:no-repeat;background-position:center;background-size:cover;height:100vh}.arrow-icon[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:5px}'],data:{animation:[H("enterState",[Y("void",T({transform:"translateX(100%)",opacity:0})),Z(":enter",[X(500,T({transform:"translateX(0)",opacity:1}))])])]}});let t=e;return t})();function pe(t,e){t&1&&(i(0,"div",9),s(1,"app-alta-pacientes",5),n())}function ue(t,e){t&1&&(i(0,"div",9),s(1,"app-alta-profesionales",5),n())}var j=(()=>{let e=class e{constructor(l){this.router=l,this.isClienteActive=!1,this.isProfesionalActive=!1,this.dataArray=[{img:"../../../assets/admin1.jpeg",mail:"fernandquispe.utn@gmail.com",contrasena:"123546"},{img:"../../../assets/admin3.jpg",mail:"fernando_xxii@hotmail.com",contrasena:"123546"}]}mostrarClienteComponent(){this.isClienteActive=!0,this.isProfesionalActive=!1}mostrarProfesionalComponent(){this.isClienteActive=!1,this.isProfesionalActive=!0}selecte(){console.log("ingrese")}goBack(){this.router.navigate(["/auth"])}};e.\u0275fac=function(o){return new(o||e)(p(C))},e.\u0275cmp=h({type:e,selectors:[["app-registrar"]],standalone:!0,features:[v],decls:15,vars:2,consts:[[1,"btn","position-absolute","top-0","start-0","m-3",3,"click"],["src","../../../../assets/flecha-izq.png","alt","Flecha Izquierda",1,"arrow-icon"],[1,"register"],[1,"d-flex","justify-content-center","align-items-center"],[1,"text-center",2,"margin-top","20px"],[2,"color","white"],["src","../../../../assets/especialista11.jpg","alt","","width","300","height","300",1,"d-block","mx-auto","mb-4","rounded-circle","btn","btn-link",2,"box-shadow","0 0 10px white",3,"click"],["src","../../../../assets/paciente222.jpg","alt","","width","300","height","300",1,"d-block","mx-auto","mb-4","rounded-circle","btn","btn-link",2,"box-shadow","0 0 10px white",3,"click"],["class","container","style","margin-top: 20px;",4,"ngIf"],[1,"container",2,"margin-top","20px"]],template:function(o,r){o&1&&(i(0,"button",0),g("click",function(){return r.goBack()}),s(1,"img",1),n(),i(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"h5",5),a(7,"Especialista"),n(),i(8,"img",6),g("click",function(){return r.mostrarProfesionalComponent()}),n()(),i(9,"div")(10,"h5",5),a(11,"Paciente"),n(),i(12,"img",7),g("click",function(){return r.mostrarClienteComponent()}),n()()(),b(13,pe,2,0,"div",8)(14,ue,2,0,"div",8),n()()),o&2&&(d(13),u("ngIf",r.isClienteActive),d(),u("ngIf",r.isProfesionalActive))},dependencies:[F,$,ee],styles:['.register[_ngcontent-%COMP%]{background:linear-gradient(#0009,#0009),url("./media/registrar-SV5HMCIX.jpg");background-repeat:no-repeat;background-position:center;background-size:cover;height:100vh}.arrow-icon[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:5px}']});let t=e;return t})();var re=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["app-verificar-correo"]],standalone:!0,features:[v],decls:2,vars:0,template:function(o,r){o&1&&(i(0,"p"),a(1,"verificar-correo works!"),n())}});let t=e;return t})();var ge=[{path:"",redirectTo:"bienvenido",pathMatch:"full"},{path:"bienvenido",component:ie,data:{animation:"Bienvenido"}},{path:"login",component:I,data:{animation:"Login"}},{path:"registrar",component:j},{path:"verificarCorreo",component:re}],U=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=k({type:e}),e.\u0275inj=S({imports:[x.forChild(ge),x]});let t=e;return t})();var Qe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=k({type:e}),e.\u0275inj=S({imports:[M,U,x,y,L,P,I,j,M,U,x,y,L,P]});let t=e;return t})();export{Qe as AuthModule};
